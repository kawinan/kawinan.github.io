var dp=Object.defineProperty,pp=Object.defineProperties;var gp=Object.getOwnPropertyDescriptors;var Uc=Object.getOwnPropertySymbols;var mp=Object.prototype.hasOwnProperty,yp=Object.prototype.propertyIsEnumerable;var jc=(t,e,n)=>e in t?dp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hc=(t,e)=>{for(var n in e||(e={}))mp.call(e,n)&&jc(t,n,e[n]);if(Uc)for(var n of Uc(e))yp.call(e,n)&&jc(t,n,e[n]);return t},Kc=(t,e)=>pp(t,gp(e));const vp=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}};vp();function va(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const wp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ep=va(wp);function Fu(t){return!!t||t===""}function wa(t){if(se(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=je(s)?Tp(s):wa(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if(je(t))return t;if(Be(t))return t}}const _p=/;(?![^(]*\))/g,bp=/:(.+)/;function Tp(t){const e={};return t.split(_p).forEach(n=>{if(n){const s=n.split(bp);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ea(t){let e="";if(je(t))e=t;else if(se(t))for(let n=0;n<t.length;n++){const s=Ea(t[n]);s&&(e+=s+" ")}else if(Be(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Dr=t=>je(t)?t:t==null?"":se(t)||Be(t)&&(t.toString===ju||!le(t.toString))?JSON.stringify(t,Vu,2):String(t),Vu=(t,e)=>e&&e.__v_isRef?Vu(t,e.value):jn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:Bu(e)?{[`Set(${e.size})`]:[...e.values()]}:Be(e)&&!se(e)&&!Hu(e)?String(e):e,Ae={},Un=[],At=()=>{},Cp=()=>!1,Sp=/^on[^a-z]/,di=t=>Sp.test(t),_a=t=>t.startsWith("onUpdate:"),nt=Object.assign,ba=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Ip=Object.prototype.hasOwnProperty,me=(t,e)=>Ip.call(t,e),se=Array.isArray,jn=t=>pi(t)==="[object Map]",Bu=t=>pi(t)==="[object Set]",le=t=>typeof t=="function",je=t=>typeof t=="string",Ta=t=>typeof t=="symbol",Be=t=>t!==null&&typeof t=="object",Uu=t=>Be(t)&&le(t.then)&&le(t.catch),ju=Object.prototype.toString,pi=t=>ju.call(t),Ap=t=>pi(t).slice(8,-1),Hu=t=>pi(t)==="[object Object]",Ca=t=>je(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Nr=va(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gi=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},xp=/-(\w)/g,Gn=gi(t=>t.replace(xp,(e,n)=>n?n.toUpperCase():"")),Dp=/\B([A-Z])/g,as=gi(t=>t.replace(Dp,"-$1").toLowerCase()),Ku=gi(t=>t.charAt(0).toUpperCase()+t.slice(1)),Xi=gi(t=>t?`on${Ku(t)}`:""),Ls=(t,e)=>!Object.is(t,e),kr=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ur=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},_o=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let qc;const Np=()=>qc||(qc=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Nt;class kp{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Nt&&(this.parent=Nt,this.index=(Nt.scopes||(Nt.scopes=[])).push(this)-1)}run(e){if(this.active){const n=Nt;try{return Nt=this,e()}finally{Nt=n}}}on(){Nt=this}off(){Nt=this.parent}stop(e){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function Mp(t,e=Nt){e&&e.active&&e.effects.push(t)}const Sa=t=>{const e=new Set(t);return e.w=0,e.n=0,e},qu=t=>(t.w&Jt)>0,zu=t=>(t.n&Jt)>0,Rp=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Jt},Op=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];qu(r)&&!zu(r)?r.delete(t):e[n++]=r,r.w&=~Jt,r.n&=~Jt}e.length=n}},bo=new WeakMap;let bs=0,Jt=1;const To=30;let Ct;const gn=Symbol(""),Co=Symbol("");class Ia{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Mp(this,s)}run(){if(!this.active)return this.fn();let e=Ct,n=Gt;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ct,Ct=this,Gt=!0,Jt=1<<++bs,bs<=To?Rp(this):zc(this),this.fn()}finally{bs<=To&&Op(this),Jt=1<<--bs,Ct=this.parent,Gt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ct===this?this.deferStop=!0:this.active&&(zc(this),this.onStop&&this.onStop(),this.active=!1)}}function zc(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Gt=!0;const Wu=[];function cs(){Wu.push(Gt),Gt=!1}function ls(){const t=Wu.pop();Gt=t===void 0?!0:t}function yt(t,e,n){if(Gt&&Ct){let s=bo.get(t);s||bo.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=Sa()),Gu(r)}}function Gu(t,e){let n=!1;bs<=To?zu(t)||(t.n|=Jt,n=!qu(t)):n=!t.has(Ct),n&&(t.add(Ct),Ct.deps.push(t))}function Vt(t,e,n,s,r,i){const o=bo.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&se(t))o.forEach((c,l)=>{(l==="length"||l>=s)&&a.push(c)});else switch(n!==void 0&&a.push(o.get(n)),e){case"add":se(t)?Ca(n)&&a.push(o.get("length")):(a.push(o.get(gn)),jn(t)&&a.push(o.get(Co)));break;case"delete":se(t)||(a.push(o.get(gn)),jn(t)&&a.push(o.get(Co)));break;case"set":jn(t)&&a.push(o.get(gn));break}if(a.length===1)a[0]&&So(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);So(Sa(c))}}function So(t,e){for(const n of se(t)?t:[...t])(n!==Ct||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const Pp=va("__proto__,__v_isRef,__isVue"),Qu=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(Ta)),Lp=Aa(),$p=Aa(!1,!0),Fp=Aa(!0),Wc=Vp();function Vp(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=we(this);for(let i=0,o=this.length;i<o;i++)yt(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(we)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){cs();const s=we(this)[e].apply(this,n);return ls(),s}}),t}function Aa(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?tg:eh:e?Zu:Ju).get(s))return s;const o=se(s);if(!t&&o&&me(Wc,r))return Reflect.get(Wc,r,i);const a=Reflect.get(s,r,i);return(Ta(r)?Qu.has(r):Pp(r))||(t||yt(s,"get",r),e)?a:We(a)?!o||!Ca(r)?a.value:a:Be(a)?t?th(a):Dn(a):a}}const Bp=Yu(),Up=Yu(!0);function Yu(t=!1){return function(n,s,r,i){let o=n[s];if($s(o)&&We(o)&&!We(r))return!1;if(!t&&!$s(r)&&(nh(r)||(r=we(r),o=we(o)),!se(n)&&We(o)&&!We(r)))return o.value=r,!0;const a=se(n)&&Ca(s)?Number(s)<n.length:me(n,s),c=Reflect.set(n,s,r,i);return n===we(i)&&(a?Ls(r,o)&&Vt(n,"set",s,r):Vt(n,"add",s,r)),c}}function jp(t,e){const n=me(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&Vt(t,"delete",e,void 0),s}function Hp(t,e){const n=Reflect.has(t,e);return(!Ta(e)||!Qu.has(e))&&yt(t,"has",e),n}function Kp(t){return yt(t,"iterate",se(t)?"length":gn),Reflect.ownKeys(t)}const Xu={get:Lp,set:Bp,deleteProperty:jp,has:Hp,ownKeys:Kp},qp={get:Fp,set(t,e){return!0},deleteProperty(t,e){return!0}},zp=nt({},Xu,{get:$p,set:Up}),xa=t=>t,mi=t=>Reflect.getPrototypeOf(t);function yr(t,e,n=!1,s=!1){t=t.__v_raw;const r=we(t),i=we(e);e!==i&&!n&&yt(r,"get",e),!n&&yt(r,"get",i);const{has:o}=mi(r),a=s?xa:n?ka:Fs;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function vr(t,e=!1){const n=this.__v_raw,s=we(n),r=we(t);return t!==r&&!e&&yt(s,"has",t),!e&&yt(s,"has",r),t===r?n.has(t):n.has(t)||n.has(r)}function wr(t,e=!1){return t=t.__v_raw,!e&&yt(we(t),"iterate",gn),Reflect.get(t,"size",t)}function Gc(t){t=we(t);const e=we(this);return mi(e).has.call(e,t)||(e.add(t),Vt(e,"add",t,t)),this}function Qc(t,e){e=we(e);const n=we(this),{has:s,get:r}=mi(n);let i=s.call(n,t);i||(t=we(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?Ls(e,o)&&Vt(n,"set",t,e):Vt(n,"add",t,e),this}function Yc(t){const e=we(this),{has:n,get:s}=mi(e);let r=n.call(e,t);r||(t=we(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&Vt(e,"delete",t,void 0),i}function Xc(){const t=we(this),e=t.size!==0,n=t.clear();return e&&Vt(t,"clear",void 0,void 0),n}function Er(t,e){return function(s,r){const i=this,o=i.__v_raw,a=we(o),c=e?xa:t?ka:Fs;return!t&&yt(a,"iterate",gn),o.forEach((l,u)=>s.call(r,c(l),c(u),i))}}function _r(t,e,n){return function(...s){const r=this.__v_raw,i=we(r),o=jn(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=r[t](...s),u=n?xa:e?ka:Fs;return!e&&yt(i,"iterate",c?Co:gn),{next(){const{value:h,done:d}=l.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function jt(t){return function(...e){return t==="delete"?!1:this}}function Wp(){const t={get(i){return yr(this,i)},get size(){return wr(this)},has:vr,add:Gc,set:Qc,delete:Yc,clear:Xc,forEach:Er(!1,!1)},e={get(i){return yr(this,i,!1,!0)},get size(){return wr(this)},has:vr,add:Gc,set:Qc,delete:Yc,clear:Xc,forEach:Er(!1,!0)},n={get(i){return yr(this,i,!0)},get size(){return wr(this,!0)},has(i){return vr.call(this,i,!0)},add:jt("add"),set:jt("set"),delete:jt("delete"),clear:jt("clear"),forEach:Er(!0,!1)},s={get(i){return yr(this,i,!0,!0)},get size(){return wr(this,!0)},has(i){return vr.call(this,i,!0)},add:jt("add"),set:jt("set"),delete:jt("delete"),clear:jt("clear"),forEach:Er(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=_r(i,!1,!1),n[i]=_r(i,!0,!1),e[i]=_r(i,!1,!0),s[i]=_r(i,!0,!0)}),[t,n,e,s]}const[Gp,Qp,Yp,Xp]=Wp();function Da(t,e){const n=e?t?Xp:Yp:t?Qp:Gp;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(me(n,r)&&r in s?n:s,r,i)}const Jp={get:Da(!1,!1)},Zp={get:Da(!1,!0)},eg={get:Da(!0,!1)},Ju=new WeakMap,Zu=new WeakMap,eh=new WeakMap,tg=new WeakMap;function ng(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sg(t){return t.__v_skip||!Object.isExtensible(t)?0:ng(Ap(t))}function Dn(t){return $s(t)?t:Na(t,!1,Xu,Jp,Ju)}function rg(t){return Na(t,!1,zp,Zp,Zu)}function th(t){return Na(t,!0,qp,eg,eh)}function Na(t,e,n,s,r){if(!Be(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=sg(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function Hn(t){return $s(t)?Hn(t.__v_raw):!!(t&&t.__v_isReactive)}function $s(t){return!!(t&&t.__v_isReadonly)}function nh(t){return!!(t&&t.__v_isShallow)}function sh(t){return Hn(t)||$s(t)}function we(t){const e=t&&t.__v_raw;return e?we(e):t}function rh(t){return Ur(t,"__v_skip",!0),t}const Fs=t=>Be(t)?Dn(t):t,ka=t=>Be(t)?th(t):t;function ih(t){Gt&&Ct&&(t=we(t),Gu(t.dep||(t.dep=Sa())))}function oh(t,e){t=we(t),t.dep&&So(t.dep)}function We(t){return!!(t&&t.__v_isRef===!0)}function ig(t){return ah(t,!1)}function og(t){return ah(t,!0)}function ah(t,e){return We(t)?t:new ag(t,e)}class ag{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:we(e),this._value=n?e:Fs(e)}get value(){return ih(this),this._value}set value(e){e=this.__v_isShallow?e:we(e),Ls(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Fs(e),oh(this))}}function rt(t){return We(t)?t.value:t}const cg={get:(t,e,n)=>rt(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return We(r)&&!We(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function ch(t){return Hn(t)?t:new Proxy(t,cg)}class lg{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Ia(e,()=>{this._dirty||(this._dirty=!0,oh(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=we(this);return ih(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function ug(t,e,n=!1){let s,r;const i=le(t);return i?(s=t,r=At):(s=t.get,r=t.set),new lg(s,r,i||!r,n)}function Qt(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){yi(i,e,n)}return r}function _t(t,e,n,s){if(le(t)){const i=Qt(t,e,n,s);return i&&Uu(i)&&i.catch(o=>{yi(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(_t(t[i],e,n,s));return r}function yi(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){Qt(c,null,10,[t,o,a]);return}}hg(t,n,r,s)}function hg(t,e,n,s=!0){console.error(t)}let jr=!1,Io=!1;const mt=[];let Ot=0;const Is=[];let Ts=null,Pn=0;const As=[];let qt=null,Ln=0;const lh=Promise.resolve();let Ma=null,Ao=null;function uh(t){const e=Ma||lh;return t?e.then(this?t.bind(this):t):e}function fg(t){let e=Ot+1,n=mt.length;for(;e<n;){const s=e+n>>>1;Vs(mt[s])<t?e=s+1:n=s}return e}function hh(t){(!mt.length||!mt.includes(t,jr&&t.allowRecurse?Ot+1:Ot))&&t!==Ao&&(t.id==null?mt.push(t):mt.splice(fg(t.id),0,t),fh())}function fh(){!jr&&!Io&&(Io=!0,Ma=lh.then(gh))}function dg(t){const e=mt.indexOf(t);e>Ot&&mt.splice(e,1)}function dh(t,e,n,s){se(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?s+1:s))&&n.push(t),fh()}function pg(t){dh(t,Ts,Is,Pn)}function gg(t){dh(t,qt,As,Ln)}function Ra(t,e=null){if(Is.length){for(Ao=e,Ts=[...new Set(Is)],Is.length=0,Pn=0;Pn<Ts.length;Pn++)Ts[Pn]();Ts=null,Pn=0,Ao=null,Ra(t,e)}}function ph(t){if(As.length){const e=[...new Set(As)];if(As.length=0,qt){qt.push(...e);return}for(qt=e,qt.sort((n,s)=>Vs(n)-Vs(s)),Ln=0;Ln<qt.length;Ln++)qt[Ln]();qt=null,Ln=0}}const Vs=t=>t.id==null?1/0:t.id;function gh(t){Io=!1,jr=!0,Ra(t),mt.sort((n,s)=>Vs(n)-Vs(s));const e=At;try{for(Ot=0;Ot<mt.length;Ot++){const n=mt[Ot];n&&n.active!==!1&&Qt(n,null,14)}}finally{Ot=0,mt.length=0,ph(),jr=!1,Ma=null,(mt.length||Is.length||As.length)&&gh(t)}}function mg(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Ae;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=s[u]||Ae;d?r=n.map(g=>g.trim()):h&&(r=n.map(_o))}let a,c=s[a=Xi(e)]||s[a=Xi(Gn(e))];!c&&i&&(c=s[a=Xi(as(e))]),c&&_t(c,t,6,r);const l=s[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,_t(l,t,6,r)}}function mh(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!le(t)){const c=l=>{const u=mh(l,e,!0);u&&(a=!0,nt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(s.set(t,null),null):(se(i)?i.forEach(c=>o[c]=null):nt(o,i),s.set(t,o),o)}function vi(t,e){return!t||!di(e)?!1:(e=e.slice(2).replace(/Once$/,""),me(t,e[0].toLowerCase()+e.slice(1))||me(t,as(e))||me(t,e))}let It=null,yh=null;function Hr(t){const e=It;return It=t,yh=t&&t.type.__scopeId||null,e}function yg(t,e=It,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&al(-1);const i=Hr(e),o=t(...r);return Hr(i),s._d&&al(1),o};return s._n=!0,s._c=!0,s._d=!0,s}function Ji(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:d,setupState:g,ctx:y,inheritAttrs:C}=t;let I,M;const j=Hr(t);try{if(n.shapeFlag&4){const Y=r||s;I=kt(u.call(Y,Y,h,i,g,d,y)),M=c}else{const Y=e;I=kt(Y.length>1?Y(i,{attrs:c,slots:a,emit:l}):Y(i,null)),M=e.props?c:vg(c)}}catch(Y){Ds.length=0,yi(Y,t,1),I=Oe($t)}let Z=I;if(M&&C!==!1){const Y=Object.keys(M),{shapeFlag:ue}=Z;Y.length&&ue&7&&(o&&Y.some(_a)&&(M=wg(M,o)),Z=En(Z,M))}return n.dirs&&(Z.dirs=Z.dirs?Z.dirs.concat(n.dirs):n.dirs),n.transition&&(Z.transition=n.transition),I=Z,Hr(j),I}const vg=t=>{let e;for(const n in t)(n==="class"||n==="style"||di(n))&&((e||(e={}))[n]=t[n]);return e},wg=(t,e)=>{const n={};for(const s in t)(!_a(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Eg(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Jc(s,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==s[d]&&!vi(l,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Jc(s,o,l):!0:!!o;return!1}function Jc(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!vi(n,i))return!0}return!1}function _g({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const bg=t=>t.__isSuspense;function Tg(t,e){e&&e.pendingBranch?se(t)?e.effects.push(...t):e.effects.push(t):gg(t)}function Mr(t,e){if(ze){let n=ze.provides;const s=ze.parent&&ze.parent.provides;s===n&&(n=ze.provides=Object.create(s)),n[t]=e}}function Lt(t,e,n=!1){const s=ze||It;if(s){const r=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&le(e)?e.call(s.proxy):e}}const Zc={};function Rr(t,e,n){return vh(t,e,n)}function vh(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=Ae){const a=ze;let c,l=!1,u=!1;if(We(t)?(c=()=>t.value,l=nh(t)):Hn(t)?(c=()=>t,s=!0):se(t)?(u=!0,l=t.some(Hn),c=()=>t.map(M=>{if(We(M))return M.value;if(Hn(M))return fn(M);if(le(M))return Qt(M,a,2)})):le(t)?e?c=()=>Qt(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return h&&h(),_t(t,a,3,[d])}:c=At,e&&s){const M=c;c=()=>fn(M())}let h,d=M=>{h=I.onStop=()=>{Qt(M,a,4)}};if(Bs)return d=At,e?n&&_t(e,a,3,[c(),u?[]:void 0,d]):c(),At;let g=u?[]:Zc;const y=()=>{if(!!I.active)if(e){const M=I.run();(s||l||(u?M.some((j,Z)=>Ls(j,g[Z])):Ls(M,g)))&&(h&&h(),_t(e,a,3,[M,g===Zc?void 0:g,d]),g=M)}else I.run()};y.allowRecurse=!!e;let C;r==="sync"?C=y:r==="post"?C=()=>ut(y,a&&a.suspense):C=()=>{!a||a.isMounted?pg(y):y()};const I=new Ia(c,C);return e?n?y():g=I.run():r==="post"?ut(I.run.bind(I),a&&a.suspense):I.run(),()=>{I.stop(),a&&a.scope&&ba(a.scope.effects,I)}}function Cg(t,e,n){const s=this.proxy,r=je(t)?t.includes(".")?wh(s,t):()=>s[t]:t.bind(s,s);let i;le(e)?i=e:(i=e.handler,n=e);const o=ze;Qn(this);const a=vh(r,i.bind(s),n);return o?Qn(o):yn(),a}function wh(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function fn(t,e){if(!Be(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),We(t))fn(t.value,e);else if(se(t))for(let n=0;n<t.length;n++)fn(t[n],e);else if(Bu(t)||jn(t))t.forEach(n=>{fn(n,e)});else if(Hu(t))for(const n in t)fn(t[n],e);return t}function Sg(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _i(()=>{t.isMounted=!0}),Ch(()=>{t.isUnmounting=!0}),t}const Et=[Function,Array],Ig={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Et,onEnter:Et,onAfterEnter:Et,onEnterCancelled:Et,onBeforeLeave:Et,onLeave:Et,onAfterLeave:Et,onLeaveCancelled:Et,onBeforeAppear:Et,onAppear:Et,onAfterAppear:Et,onAppearCancelled:Et},setup(t,{slots:e}){const n=hm(),s=Sg();let r;return()=>{const i=e.default&&_h(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const C of i)if(C.type!==$t){o=C;break}}const a=we(t),{mode:c}=a;if(s.isLeaving)return Zi(o);const l=el(o);if(!l)return Zi(o);const u=xo(l,a,s,n);Do(l,u);const h=n.subTree,d=h&&el(h);let g=!1;const{getTransitionKey:y}=l.type;if(y){const C=y();r===void 0?r=C:C!==r&&(r=C,g=!0)}if(d&&d.type!==$t&&(!un(l,d)||g)){const C=xo(d,a,s,n);if(Do(d,C),c==="out-in")return s.isLeaving=!0,C.afterLeave=()=>{s.isLeaving=!1,n.update()},Zi(o);c==="in-out"&&l.type!==$t&&(C.delayLeave=(I,M,j)=>{const Z=Eh(s,d);Z[String(d.key)]=d,I._leaveCb=()=>{M(),I._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=j})}return o}}},Ag=Ig;function Eh(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function xo(t,e,n,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:h,onLeave:d,onAfterLeave:g,onLeaveCancelled:y,onBeforeAppear:C,onAppear:I,onAfterAppear:M,onAppearCancelled:j}=e,Z=String(t.key),Y=Eh(n,t),ue=(ee,Ce)=>{ee&&_t(ee,s,9,Ce)},pe={mode:i,persisted:o,beforeEnter(ee){let Ce=a;if(!n.isMounted)if(r)Ce=C||a;else return;ee._leaveCb&&ee._leaveCb(!0);const ae=Y[Z];ae&&un(t,ae)&&ae.el._leaveCb&&ae.el._leaveCb(),ue(Ce,[ee])},enter(ee){let Ce=c,ae=l,re=u;if(!n.isMounted)if(r)Ce=I||c,ae=M||l,re=j||u;else return;let Pe=!1;const Le=ee._enterCb=G=>{Pe||(Pe=!0,G?ue(re,[ee]):ue(ae,[ee]),pe.delayedLeave&&pe.delayedLeave(),ee._enterCb=void 0)};Ce?(Ce(ee,Le),Ce.length<=1&&Le()):Le()},leave(ee,Ce){const ae=String(t.key);if(ee._enterCb&&ee._enterCb(!0),n.isUnmounting)return Ce();ue(h,[ee]);let re=!1;const Pe=ee._leaveCb=Le=>{re||(re=!0,Ce(),Le?ue(y,[ee]):ue(g,[ee]),ee._leaveCb=void 0,Y[ae]===t&&delete Y[ae])};Y[ae]=t,d?(d(ee,Pe),d.length<=1&&Pe()):Pe()},clone(ee){return xo(ee,e,n,s)}};return pe}function Zi(t){if(wi(t))return t=En(t),t.children=null,t}function el(t){return wi(t)?t.children?t.children[0]:void 0:t}function Do(t,e){t.shapeFlag&6&&t.component?Do(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function _h(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===ft?(o.patchFlag&128&&r++,s=s.concat(_h(o.children,e,a))):(e||o.type!==$t)&&s.push(a!=null?En(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function bh(t){return le(t)?{setup:t,name:t.name}:t}const No=t=>!!t.type.__asyncLoader,wi=t=>t.type.__isKeepAlive;function xg(t,e){Th(t,"a",e)}function Dg(t,e){Th(t,"da",e)}function Th(t,e,n=ze){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Ei(e,s,n),n){let r=n.parent;for(;r&&r.parent;)wi(r.parent.vnode)&&Ng(s,e,n,r),r=r.parent}}function Ng(t,e,n,s){const r=Ei(e,t,s,!0);Sh(()=>{ba(s[e],r)},n)}function Ei(t,e,n=ze,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;cs(),Qn(n);const a=_t(e,n,t,o);return yn(),ls(),a});return s?r.unshift(i):r.push(i),i}}const Ut=t=>(e,n=ze)=>(!Bs||t==="sp")&&Ei(t,e,n),kg=Ut("bm"),_i=Ut("m"),Mg=Ut("bu"),Rg=Ut("u"),Ch=Ut("bum"),Sh=Ut("um"),Og=Ut("sp"),Pg=Ut("rtg"),Lg=Ut("rtc");function $g(t,e=ze){Ei("ec",t,e)}let ko=!0;function Fg(t){const e=Ah(t),n=t.proxy,s=t.ctx;ko=!1,e.beforeCreate&&tl(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:d,beforeUpdate:g,updated:y,activated:C,deactivated:I,beforeDestroy:M,beforeUnmount:j,destroyed:Z,unmounted:Y,render:ue,renderTracked:pe,renderTriggered:ee,errorCaptured:Ce,serverPrefetch:ae,expose:re,inheritAttrs:Pe,components:Le,directives:G,filters:L}=e;if(l&&Vg(l,s,null,t.appContext.config.unwrapInjectedRef),o)for(const b in o){const P=o[b];le(P)&&(s[b]=P.bind(n))}if(r){const b=r.call(n,n);Be(b)&&(t.data=Dn(b))}if(ko=!0,i)for(const b in i){const P=i[b],K=le(P)?P.bind(n,n):le(P.get)?P.get.bind(n,n):At,fe=!le(P)&&le(P.set)?P.set.bind(n):At,Ee=Mt({get:K,set:fe});Object.defineProperty(s,b,{enumerable:!0,configurable:!0,get:()=>Ee.value,set:ye=>Ee.value=ye})}if(a)for(const b in a)Ih(a[b],s,n,b);if(c){const b=le(c)?c.call(n):c;Reflect.ownKeys(b).forEach(P=>{Mr(P,b[P])})}u&&tl(u,t,"c");function V(b,P){se(P)?P.forEach(K=>b(K.bind(n))):P&&b(P.bind(n))}if(V(kg,h),V(_i,d),V(Mg,g),V(Rg,y),V(xg,C),V(Dg,I),V($g,Ce),V(Lg,pe),V(Pg,ee),V(Ch,j),V(Sh,Y),V(Og,ae),se(re))if(re.length){const b=t.exposed||(t.exposed={});re.forEach(P=>{Object.defineProperty(b,P,{get:()=>n[P],set:K=>n[P]=K})})}else t.exposed||(t.exposed={});ue&&t.render===At&&(t.render=ue),Pe!=null&&(t.inheritAttrs=Pe),Le&&(t.components=Le),G&&(t.directives=G)}function Vg(t,e,n=At,s=!1){se(t)&&(t=Mo(t));for(const r in t){const i=t[r];let o;Be(i)?"default"in i?o=Lt(i.from||r,i.default,!0):o=Lt(i.from||r):o=Lt(i),We(o)&&s?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[r]=o}}function tl(t,e,n){_t(se(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Ih(t,e,n,s){const r=s.includes(".")?wh(n,s):()=>n[s];if(je(t)){const i=e[t];le(i)&&Rr(r,i)}else if(le(t))Rr(r,t.bind(n));else if(Be(t))if(se(t))t.forEach(i=>Ih(i,e,n,s));else{const i=le(t.handler)?t.handler.bind(n):e[t.handler];le(i)&&Rr(r,i,t)}}function Ah(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!r.length&&!n&&!s?c=e:(c={},r.length&&r.forEach(l=>Kr(c,l,o,!0)),Kr(c,e,o)),i.set(e,c),c}function Kr(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Kr(t,i,n,!0),r&&r.forEach(o=>Kr(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=Bg[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Bg={data:nl,props:cn,emits:cn,methods:cn,computed:cn,beforeCreate:st,created:st,beforeMount:st,mounted:st,beforeUpdate:st,updated:st,beforeDestroy:st,beforeUnmount:st,destroyed:st,unmounted:st,activated:st,deactivated:st,errorCaptured:st,serverPrefetch:st,components:cn,directives:cn,watch:jg,provide:nl,inject:Ug};function nl(t,e){return e?t?function(){return nt(le(t)?t.call(this,this):t,le(e)?e.call(this,this):e)}:e:t}function Ug(t,e){return cn(Mo(t),Mo(e))}function Mo(t){if(se(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function st(t,e){return t?[...new Set([].concat(t,e))]:e}function cn(t,e){return t?nt(nt(Object.create(null),t),e):e}function jg(t,e){if(!t)return e;if(!e)return t;const n=nt(Object.create(null),t);for(const s in e)n[s]=st(t[s],e[s]);return n}function Hg(t,e,n,s=!1){const r={},i={};Ur(i,bi,1),t.propsDefaults=Object.create(null),xh(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:rg(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function Kg(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=we(r),[c]=t.propsOptions;let l=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(vi(t.emitsOptions,d))continue;const g=e[d];if(c)if(me(i,d))g!==i[d]&&(i[d]=g,l=!0);else{const y=Gn(d);r[y]=Ro(c,a,y,g,t,!1)}else g!==i[d]&&(i[d]=g,l=!0)}}}else{xh(t,e,r,i)&&(l=!0);let u;for(const h in a)(!e||!me(e,h)&&((u=as(h))===h||!me(e,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=Ro(c,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!me(e,h)&&!0)&&(delete i[h],l=!0)}l&&Vt(t,"set","$attrs")}function xh(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Nr(c))continue;const l=e[c];let u;r&&me(r,u=Gn(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:vi(t.emitsOptions,c)||(!(c in s)||l!==s[c])&&(s[c]=l,o=!0)}if(i){const c=we(n),l=a||Ae;for(let u=0;u<i.length;u++){const h=i[u];n[h]=Ro(r,c,h,l[h],t,!me(l,h))}}return o}function Ro(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=me(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&le(c)){const{propsDefaults:l}=r;n in l?s=l[n]:(Qn(r),s=l[n]=c.call(null,e),yn())}else s=c}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===as(n))&&(s=!0))}return s}function Dh(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let c=!1;if(!le(t)){const u=h=>{c=!0;const[d,g]=Dh(h,e,!0);nt(o,d),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return s.set(t,Un),Un;if(se(i))for(let u=0;u<i.length;u++){const h=Gn(i[u]);sl(h)&&(o[h]=Ae)}else if(i)for(const u in i){const h=Gn(u);if(sl(h)){const d=i[u],g=o[h]=se(d)||le(d)?{type:d}:d;if(g){const y=ol(Boolean,g.type),C=ol(String,g.type);g[0]=y>-1,g[1]=C<0||y<C,(y>-1||me(g,"default"))&&a.push(h)}}}const l=[o,a];return s.set(t,l),l}function sl(t){return t[0]!=="$"}function rl(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function il(t,e){return rl(t)===rl(e)}function ol(t,e){return se(e)?e.findIndex(n=>il(n,t)):le(e)&&il(e,t)?0:-1}const Nh=t=>t[0]==="_"||t==="$stable",Oa=t=>se(t)?t.map(kt):[kt(t)],qg=(t,e,n)=>{const s=yg((...r)=>Oa(e(...r)),n);return s._c=!1,s},kh=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Nh(r))continue;const i=t[r];if(le(i))e[r]=qg(r,i,s);else if(i!=null){const o=Oa(i);e[r]=()=>o}}},Mh=(t,e)=>{const n=Oa(e);t.slots.default=()=>n},zg=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=we(e),Ur(e,"_",n)):kh(e,t.slots={})}else t.slots={},e&&Mh(t,e);Ur(t.slots,bi,1)},Wg=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Ae;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(nt(r,e),!n&&a===1&&delete r._):(i=!e.$stable,kh(e,r)),o=e}else e&&(Mh(t,e),o={default:1});if(i)for(const a in r)!Nh(a)&&!(a in o)&&delete r[a]};function xs(t,e){const n=It;if(n===null)return t;const s=Ti(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,c,l=Ae]=e[i];le(o)&&(o={mounted:o,updated:o}),o.deep&&fn(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:c,modifiers:l})}return t}function on(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let c=a.dir[s];c&&(cs(),_t(c,n,8,[t.el,a,t,e]),ls())}}function Rh(){return{app:null,config:{isNativeTag:Cp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Gg=0;function Qg(t,e){return function(s,r=null){le(s)||(s=Object.assign({},s)),r!=null&&!Be(r)&&(r=null);const i=Rh(),o=new Set;let a=!1;const c=i.app={_uid:Gg++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:ym,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&le(l.install)?(o.add(l),l.install(c,...u)):le(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,h){if(!a){const d=Oe(s,r);return d.appContext=i,u&&e?e(d,l):t(d,l,h),a=!0,c._container=l,l.__vue_app__=c,Ti(d.component)||d.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c}};return c}}function Oo(t,e,n,s,r=!1){if(se(t)){t.forEach((d,g)=>Oo(d,e&&(se(e)?e[g]:e),n,s,r));return}if(No(s)&&!r)return;const i=s.shapeFlag&4?Ti(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===Ae?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(je(l)?(u[l]=null,me(h,l)&&(h[l]=null)):We(l)&&(l.value=null)),le(c))Qt(c,a,12,[o,u]);else{const d=je(c),g=We(c);if(d||g){const y=()=>{if(t.f){const C=d?u[c]:c.value;r?se(C)&&ba(C,i):se(C)?C.includes(i)||C.push(i):d?(u[c]=[i],me(h,c)&&(h[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else d?(u[c]=o,me(h,c)&&(h[c]=o)):We(c)&&(c.value=o,t.k&&(u[t.k]=o))};o?(y.id=-1,ut(y,n)):y()}}}const ut=Tg;function Yg(t){return Xg(t)}function Xg(t,e){const n=Np();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:d,setScopeId:g=At,cloneNode:y,insertStaticContent:C}=t,I=(f,p,m,E=null,w=null,N=null,O=!1,A=null,k=!!p.dynamicChildren)=>{if(f===p)return;f&&!un(f,p)&&(E=B(f),Te(f,w,N,!0),f=null),p.patchFlag===-2&&(k=!1,p.dynamicChildren=null);const{type:T,ref:q,shapeFlag:U}=p;switch(T){case Pa:M(f,p,m,E);break;case $t:j(f,p,m,E);break;case Or:f==null&&Z(p,m,E,O);break;case ft:G(f,p,m,E,w,N,O,A,k);break;default:U&1?pe(f,p,m,E,w,N,O,A,k):U&6?L(f,p,m,E,w,N,O,A,k):(U&64||U&128)&&T.process(f,p,m,E,w,N,O,A,k,de)}q!=null&&w&&Oo(q,f&&f.ref,N,p||f,!p)},M=(f,p,m,E)=>{if(f==null)s(p.el=a(p.children),m,E);else{const w=p.el=f.el;p.children!==f.children&&l(w,p.children)}},j=(f,p,m,E)=>{f==null?s(p.el=c(p.children||""),m,E):p.el=f.el},Z=(f,p,m,E)=>{[f.el,f.anchor]=C(f.children,p,m,E,f.el,f.anchor)},Y=({el:f,anchor:p},m,E)=>{let w;for(;f&&f!==p;)w=d(f),s(f,m,E),f=w;s(p,m,E)},ue=({el:f,anchor:p})=>{let m;for(;f&&f!==p;)m=d(f),r(f),f=m;r(p)},pe=(f,p,m,E,w,N,O,A,k)=>{O=O||p.type==="svg",f==null?ee(p,m,E,w,N,O,A,k):re(f,p,w,N,O,A,k)},ee=(f,p,m,E,w,N,O,A)=>{let k,T;const{type:q,props:U,shapeFlag:z,transition:te,patchFlag:ve,dirs:ke}=f;if(f.el&&y!==void 0&&ve===-1)k=f.el=y(f.el);else{if(k=f.el=o(f.type,N,U&&U.is,U),z&8?u(k,f.children):z&16&&ae(f.children,k,null,E,w,N&&q!=="foreignObject",O,A),ke&&on(f,null,E,"created"),U){for(const De in U)De!=="value"&&!Nr(De)&&i(k,De,null,U[De],N,f.children,E,w,x);"value"in U&&i(k,"value",null,U.value),(T=U.onVnodeBeforeMount)&&Dt(T,E,f)}Ce(k,f,f.scopeId,O,E)}ke&&on(f,null,E,"beforeMount");const Se=(!w||w&&!w.pendingBranch)&&te&&!te.persisted;Se&&te.beforeEnter(k),s(k,p,m),((T=U&&U.onVnodeMounted)||Se||ke)&&ut(()=>{T&&Dt(T,E,f),Se&&te.enter(k),ke&&on(f,null,E,"mounted")},w)},Ce=(f,p,m,E,w)=>{if(m&&g(f,m),E)for(let N=0;N<E.length;N++)g(f,E[N]);if(w){let N=w.subTree;if(p===N){const O=w.vnode;Ce(f,O,O.scopeId,O.slotScopeIds,w.parent)}}},ae=(f,p,m,E,w,N,O,A,k=0)=>{for(let T=k;T<f.length;T++){const q=f[T]=A?zt(f[T]):kt(f[T]);I(null,q,p,m,E,w,N,O,A)}},re=(f,p,m,E,w,N,O)=>{const A=p.el=f.el;let{patchFlag:k,dynamicChildren:T,dirs:q}=p;k|=f.patchFlag&16;const U=f.props||Ae,z=p.props||Ae;let te;m&&an(m,!1),(te=z.onVnodeBeforeUpdate)&&Dt(te,m,p,f),q&&on(p,f,m,"beforeUpdate"),m&&an(m,!0);const ve=w&&p.type!=="foreignObject";if(T?Pe(f.dynamicChildren,T,A,m,E,ve,N):O||K(f,p,A,null,m,E,ve,N,!1),k>0){if(k&16)Le(A,p,U,z,m,E,w);else if(k&2&&U.class!==z.class&&i(A,"class",null,z.class,w),k&4&&i(A,"style",U.style,z.style,w),k&8){const ke=p.dynamicProps;for(let Se=0;Se<ke.length;Se++){const De=ke[Se],Tt=U[De],Mn=z[De];(Mn!==Tt||De==="value")&&i(A,De,Tt,Mn,w,f.children,m,E,x)}}k&1&&f.children!==p.children&&u(A,p.children)}else!O&&T==null&&Le(A,p,U,z,m,E,w);((te=z.onVnodeUpdated)||q)&&ut(()=>{te&&Dt(te,m,p,f),q&&on(p,f,m,"updated")},E)},Pe=(f,p,m,E,w,N,O)=>{for(let A=0;A<p.length;A++){const k=f[A],T=p[A],q=k.el&&(k.type===ft||!un(k,T)||k.shapeFlag&70)?h(k.el):m;I(k,T,q,null,E,w,N,O,!0)}},Le=(f,p,m,E,w,N,O)=>{if(m!==E){for(const A in E){if(Nr(A))continue;const k=E[A],T=m[A];k!==T&&A!=="value"&&i(f,A,T,k,O,p.children,w,N,x)}if(m!==Ae)for(const A in m)!Nr(A)&&!(A in E)&&i(f,A,m[A],null,O,p.children,w,N,x);"value"in E&&i(f,"value",m.value,E.value)}},G=(f,p,m,E,w,N,O,A,k)=>{const T=p.el=f?f.el:a(""),q=p.anchor=f?f.anchor:a("");let{patchFlag:U,dynamicChildren:z,slotScopeIds:te}=p;te&&(A=A?A.concat(te):te),f==null?(s(T,m,E),s(q,m,E),ae(p.children,m,q,w,N,O,A,k)):U>0&&U&64&&z&&f.dynamicChildren?(Pe(f.dynamicChildren,z,m,w,N,O,A),(p.key!=null||w&&p===w.subTree)&&Oh(f,p,!0)):K(f,p,m,q,w,N,O,A,k)},L=(f,p,m,E,w,N,O,A,k)=>{p.slotScopeIds=A,f==null?p.shapeFlag&512?w.ctx.activate(p,m,E,O,k):R(p,m,E,w,N,O,k):V(f,p,k)},R=(f,p,m,E,w,N,O)=>{const A=f.component=um(f,E,w);if(wi(f)&&(A.ctx.renderer=de),fm(A),A.asyncDep){if(w&&w.registerDep(A,b),!f.el){const k=A.subTree=Oe($t);j(null,k,p,m)}return}b(A,f,p,m,w,N,O)},V=(f,p,m)=>{const E=p.component=f.component;if(Eg(f,p,m))if(E.asyncDep&&!E.asyncResolved){P(E,p,m);return}else E.next=p,dg(E.update),E.update();else p.component=f.component,p.el=f.el,E.vnode=p},b=(f,p,m,E,w,N,O)=>{const A=()=>{if(f.isMounted){let{next:q,bu:U,u:z,parent:te,vnode:ve}=f,ke=q,Se;an(f,!1),q?(q.el=ve.el,P(f,q,O)):q=ve,U&&kr(U),(Se=q.props&&q.props.onVnodeBeforeUpdate)&&Dt(Se,te,q,ve),an(f,!0);const De=Ji(f),Tt=f.subTree;f.subTree=De,I(Tt,De,h(Tt.el),B(Tt),f,w,N),q.el=De.el,ke===null&&_g(f,De.el),z&&ut(z,w),(Se=q.props&&q.props.onVnodeUpdated)&&ut(()=>Dt(Se,te,q,ve),w)}else{let q;const{el:U,props:z}=p,{bm:te,m:ve,parent:ke}=f,Se=No(p);if(an(f,!1),te&&kr(te),!Se&&(q=z&&z.onVnodeBeforeMount)&&Dt(q,ke,p),an(f,!0),U&&X){const De=()=>{f.subTree=Ji(f),X(U,f.subTree,f,w,null)};Se?p.type.__asyncLoader().then(()=>!f.isUnmounted&&De()):De()}else{const De=f.subTree=Ji(f);I(null,De,m,E,f,w,N),p.el=De.el}if(ve&&ut(ve,w),!Se&&(q=z&&z.onVnodeMounted)){const De=p;ut(()=>Dt(q,ke,De),w)}p.shapeFlag&256&&f.a&&ut(f.a,w),f.isMounted=!0,p=m=E=null}},k=f.effect=new Ia(A,()=>hh(f.update),f.scope),T=f.update=k.run.bind(k);T.id=f.uid,an(f,!0),T()},P=(f,p,m)=>{p.component=f;const E=f.vnode.props;f.vnode=p,f.next=null,Kg(f,p.props,E,m),Wg(f,p.children,m),cs(),Ra(void 0,f.update),ls()},K=(f,p,m,E,w,N,O,A,k=!1)=>{const T=f&&f.children,q=f?f.shapeFlag:0,U=p.children,{patchFlag:z,shapeFlag:te}=p;if(z>0){if(z&128){Ee(T,U,m,E,w,N,O,A,k);return}else if(z&256){fe(T,U,m,E,w,N,O,A,k);return}}te&8?(q&16&&x(T,w,N),U!==T&&u(m,U)):q&16?te&16?Ee(T,U,m,E,w,N,O,A,k):x(T,w,N,!0):(q&8&&u(m,""),te&16&&ae(U,m,E,w,N,O,A,k))},fe=(f,p,m,E,w,N,O,A,k)=>{f=f||Un,p=p||Un;const T=f.length,q=p.length,U=Math.min(T,q);let z;for(z=0;z<U;z++){const te=p[z]=k?zt(p[z]):kt(p[z]);I(f[z],te,m,null,w,N,O,A,k)}T>q?x(f,w,N,!0,!1,U):ae(p,m,E,w,N,O,A,k,U)},Ee=(f,p,m,E,w,N,O,A,k)=>{let T=0;const q=p.length;let U=f.length-1,z=q-1;for(;T<=U&&T<=z;){const te=f[T],ve=p[T]=k?zt(p[T]):kt(p[T]);if(un(te,ve))I(te,ve,m,null,w,N,O,A,k);else break;T++}for(;T<=U&&T<=z;){const te=f[U],ve=p[z]=k?zt(p[z]):kt(p[z]);if(un(te,ve))I(te,ve,m,null,w,N,O,A,k);else break;U--,z--}if(T>U){if(T<=z){const te=z+1,ve=te<q?p[te].el:E;for(;T<=z;)I(null,p[T]=k?zt(p[T]):kt(p[T]),m,ve,w,N,O,A,k),T++}}else if(T>z)for(;T<=U;)Te(f[T],w,N,!0),T++;else{const te=T,ve=T,ke=new Map;for(T=ve;T<=z;T++){const gt=p[T]=k?zt(p[T]):kt(p[T]);gt.key!=null&&ke.set(gt.key,T)}let Se,De=0;const Tt=z-ve+1;let Mn=!1,Fc=0;const vs=new Array(Tt);for(T=0;T<Tt;T++)vs[T]=0;for(T=te;T<=U;T++){const gt=f[T];if(De>=Tt){Te(gt,w,N,!0);continue}let xt;if(gt.key!=null)xt=ke.get(gt.key);else for(Se=ve;Se<=z;Se++)if(vs[Se-ve]===0&&un(gt,p[Se])){xt=Se;break}xt===void 0?Te(gt,w,N,!0):(vs[xt-ve]=T+1,xt>=Fc?Fc=xt:Mn=!0,I(gt,p[xt],m,null,w,N,O,A,k),De++)}const Vc=Mn?Jg(vs):Un;for(Se=Vc.length-1,T=Tt-1;T>=0;T--){const gt=ve+T,xt=p[gt],Bc=gt+1<q?p[gt+1].el:E;vs[T]===0?I(null,xt,m,Bc,w,N,O,A,k):Mn&&(Se<0||T!==Vc[Se]?ye(xt,m,Bc,2):Se--)}}},ye=(f,p,m,E,w=null)=>{const{el:N,type:O,transition:A,children:k,shapeFlag:T}=f;if(T&6){ye(f.component.subTree,p,m,E);return}if(T&128){f.suspense.move(p,m,E);return}if(T&64){O.move(f,p,m,de);return}if(O===ft){s(N,p,m);for(let U=0;U<k.length;U++)ye(k[U],p,m,E);s(f.anchor,p,m);return}if(O===Or){Y(f,p,m);return}if(E!==2&&T&1&&A)if(E===0)A.beforeEnter(N),s(N,p,m),ut(()=>A.enter(N),w);else{const{leave:U,delayLeave:z,afterLeave:te}=A,ve=()=>s(N,p,m),ke=()=>{U(N,()=>{ve(),te&&te()})};z?z(N,ve,ke):ke()}else s(N,p,m)},Te=(f,p,m,E=!1,w=!1)=>{const{type:N,props:O,ref:A,children:k,dynamicChildren:T,shapeFlag:q,patchFlag:U,dirs:z}=f;if(A!=null&&Oo(A,null,m,f,!0),q&256){p.ctx.deactivate(f);return}const te=q&1&&z,ve=!No(f);let ke;if(ve&&(ke=O&&O.onVnodeBeforeUnmount)&&Dt(ke,p,f),q&6)F(f.component,m,E);else{if(q&128){f.suspense.unmount(m,E);return}te&&on(f,null,p,"beforeUnmount"),q&64?f.type.remove(f,p,m,w,de,E):T&&(N!==ft||U>0&&U&64)?x(T,p,m,!1,!0):(N===ft&&U&384||!w&&q&16)&&x(k,p,m),E&&wt(f)}(ve&&(ke=O&&O.onVnodeUnmounted)||te)&&ut(()=>{ke&&Dt(ke,p,f),te&&on(f,null,p,"unmounted")},m)},wt=f=>{const{type:p,el:m,anchor:E,transition:w}=f;if(p===ft){v(m,E);return}if(p===Or){ue(f);return}const N=()=>{r(m),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(f.shapeFlag&1&&w&&!w.persisted){const{leave:O,delayLeave:A}=w,k=()=>O(m,N);A?A(f.el,N,k):k()}else N()},v=(f,p)=>{let m;for(;f!==p;)m=d(f),r(f),f=m;r(p)},F=(f,p,m)=>{const{bum:E,scope:w,update:N,subTree:O,um:A}=f;E&&kr(E),w.stop(),N&&(N.active=!1,Te(O,f,p,m)),A&&ut(A,p),ut(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},x=(f,p,m,E=!1,w=!1,N=0)=>{for(let O=N;O<f.length;O++)Te(f[O],p,m,E,w)},B=f=>f.shapeFlag&6?B(f.component.subTree):f.shapeFlag&128?f.suspense.next():d(f.anchor||f.el),ie=(f,p,m)=>{f==null?p._vnode&&Te(p._vnode,null,null,!0):I(p._vnode||null,f,p,null,null,null,m),ph(),p._vnode=f},de={p:I,um:Te,m:ye,r:wt,mt:R,mc:ae,pc:K,pbc:Pe,n:B,o:t};let ce,X;return e&&([ce,X]=e(de)),{render:ie,hydrate:ce,createApp:Qg(ie,ce)}}function an({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Oh(t,e,n=!1){const s=t.children,r=e.children;if(se(s)&&se(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=zt(r[i]),a.el=o.el),n||Oh(o,a))}}function Jg(t){const e=t.slice(),n=[0];let s,r,i,o,a;const c=t.length;for(s=0;s<c;s++){const l=t[s];if(l!==0){if(r=n[n.length-1],t[r]<l){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const Zg=t=>t.__isTeleport,em=Symbol(),ft=Symbol(void 0),Pa=Symbol(void 0),$t=Symbol(void 0),Or=Symbol(void 0),Ds=[];let mn=null;function ct(t=!1){Ds.push(mn=t?null:[])}function tm(){Ds.pop(),mn=Ds[Ds.length-1]||null}let qr=1;function al(t){qr+=t}function nm(t){return t.dynamicChildren=qr>0?mn||Un:null,tm(),qr>0&&mn&&mn.push(t),t}function lt(t,e,n,s,r,i){return nm(_(t,e,n,s,r,i,!0))}function Po(t){return t?t.__v_isVNode===!0:!1}function un(t,e){return t.type===e.type&&t.key===e.key}const bi="__vInternal",Ph=({key:t})=>t!=null?t:null,Pr=({ref:t,ref_key:e,ref_for:n})=>t!=null?je(t)||We(t)||le(t)?{i:It,r:t,k:e,f:!!n}:t:null;function _(t,e=null,n=null,s=0,r=null,i=t===ft?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ph(e),ref:e&&Pr(e),scopeId:yh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(La(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=je(n)?8:16),qr>0&&!o&&mn&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&mn.push(c),c}const Oe=sm;function sm(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===em)&&(t=$t),Po(t)){const a=En(t,e,!0);return n&&La(a,n),a}if(mm(t)&&(t=t.__vccOpts),e){e=rm(e);let{class:a,style:c}=e;a&&!je(a)&&(e.class=Ea(a)),Be(c)&&(sh(c)&&!se(c)&&(c=nt({},c)),e.style=wa(c))}const o=je(t)?1:bg(t)?128:Zg(t)?64:Be(t)?4:le(t)?2:0;return _(t,e,n,s,r,o,i,!0)}function rm(t){return t?sh(t)||bi in t?nt({},t):t:null}function En(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?im(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Ph(a),ref:e&&e.ref?n&&r?se(r)?r.concat(Pr(e)):[r,Pr(e)]:Pr(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ft?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&En(t.ssContent),ssFallback:t.ssFallback&&En(t.ssFallback),el:t.el,anchor:t.anchor}}function Lh(t=" ",e=0){return Oe(Pa,null,t,e)}function tr(t,e){const n=Oe(Or,null,t);return n.staticCount=e,n}function kt(t){return t==null||typeof t=="boolean"?Oe($t):se(t)?Oe(ft,null,t.slice()):typeof t=="object"?zt(t):Oe(Pa,null,String(t))}function zt(t){return t.el===null||t.memo?t:En(t)}function La(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(se(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),La(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(bi in e)?e._ctx=It:r===3&&It&&(It.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else le(e)?(e={default:e,_ctx:It},n=32):(e=String(e),s&64?(n=16,e=[Lh(e)]):n=8);t.children=e,t.shapeFlag|=n}function im(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Ea([e.class,s.class]));else if(r==="style")e.style=wa([e.style,s.style]);else if(di(r)){const i=e[r],o=s[r];o&&i!==o&&!(se(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Dt(t,e,n,s=null){_t(t,e,7,[n,s])}function om(t,e,n,s){let r;const i=n&&n[s];if(se(t)||je(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(Be(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];r[a]=e(t[l],l,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}const Lo=t=>t?$h(t)?Ti(t)||t.proxy:Lo(t.parent):null,zr=nt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Lo(t.parent),$root:t=>Lo(t.root),$emit:t=>t.emit,$options:t=>Ah(t),$forceUpdate:t=>()=>hh(t.update),$nextTick:t=>uh.bind(t.proxy),$watch:t=>Cg.bind(t)}),am={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(s!==Ae&&me(s,e))return o[e]=1,s[e];if(r!==Ae&&me(r,e))return o[e]=2,r[e];if((l=t.propsOptions[0])&&me(l,e))return o[e]=3,i[e];if(n!==Ae&&me(n,e))return o[e]=4,n[e];ko&&(o[e]=0)}}const u=zr[e];let h,d;if(u)return e==="$attrs"&&yt(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Ae&&me(n,e))return o[e]=4,n[e];if(d=c.config.globalProperties,me(d,e))return d[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return r!==Ae&&me(r,e)?(r[e]=n,!0):s!==Ae&&me(s,e)?(s[e]=n,!0):me(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Ae&&me(t,o)||e!==Ae&&me(e,o)||(a=i[0])&&me(a,o)||me(s,o)||me(zr,o)||me(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:me(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},cm=Rh();let lm=0;function um(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||cm,i={uid:lm++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new kp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Dh(s,r),emitsOptions:mh(s,r),emit:null,emitted:null,propsDefaults:Ae,inheritAttrs:s.inheritAttrs,ctx:Ae,data:Ae,props:Ae,attrs:Ae,slots:Ae,refs:Ae,setupState:Ae,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=mg.bind(null,i),t.ce&&t.ce(i),i}let ze=null;const hm=()=>ze||It,Qn=t=>{ze=t,t.scope.on()},yn=()=>{ze&&ze.scope.off(),ze=null};function $h(t){return t.vnode.shapeFlag&4}let Bs=!1;function fm(t,e=!1){Bs=e;const{props:n,children:s}=t.vnode,r=$h(t);Hg(t,n,r,e),zg(t,s);const i=r?dm(t,e):void 0;return Bs=!1,i}function dm(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=rh(new Proxy(t.ctx,am));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?gm(t):null;Qn(t),cs();const i=Qt(s,t,0,[t.props,r]);if(ls(),yn(),Uu(i)){if(i.then(yn,yn),e)return i.then(o=>{cl(t,o,e)}).catch(o=>{yi(o,t,0)});t.asyncDep=i}else cl(t,i,e)}else Fh(t,e)}function cl(t,e,n){le(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Be(e)&&(t.setupState=ch(e)),Fh(t,n)}let ll;function Fh(t,e,n){const s=t.type;if(!t.render){if(!e&&ll&&!s.render){const r=s.template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=s,l=nt(nt({isCustomElement:i,delimiters:a},o),c);s.render=ll(r,l)}}t.render=s.render||At}Qn(t),cs(),Fg(t),ls(),yn()}function pm(t){return new Proxy(t.attrs,{get(e,n){return yt(t,"get","$attrs"),e[n]}})}function gm(t){const e=s=>{t.exposed=s||{}};let n;return{get attrs(){return n||(n=pm(t))},slots:t.slots,emit:t.emit,expose:e}}function Ti(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ch(rh(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in zr)return zr[n](t)}}))}function mm(t){return le(t)&&"__vccOpts"in t}const Mt=(t,e)=>ug(t,e,Bs);function Vh(t,e,n){const s=arguments.length;return s===2?Be(e)&&!se(e)?Po(e)?Oe(t,null,[e]):Oe(t,e):Oe(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Po(n)&&(n=[n]),Oe(t,e,n))}const ym="3.2.33",vm="http://www.w3.org/2000/svg",hn=typeof document!="undefined"?document:null,ul=hn&&hn.createElement("template"),wm={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?hn.createElementNS(vm,t):hn.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>hn.createTextNode(t),createComment:t=>hn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>hn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{ul.innerHTML=s?`<svg>${t}</svg>`:t;const a=ul.content;if(s){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Em(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function _m(t,e,n){const s=t.style,r=je(n);if(n&&!r){for(const i in n)$o(s,i,n[i]);if(e&&!je(e))for(const i in e)n[i]==null&&$o(s,i,"")}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const hl=/\s*!important$/;function $o(t,e,n){if(se(n))n.forEach(s=>$o(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=bm(t,e);hl.test(n)?t.setProperty(as(s),n.replace(hl,""),"important"):t[s]=n}}const fl=["Webkit","Moz","ms"],eo={};function bm(t,e){const n=eo[e];if(n)return n;let s=Gn(e);if(s!=="filter"&&s in t)return eo[e]=s;s=Ku(s);for(let r=0;r<fl.length;r++){const i=fl[r]+s;if(i in t)return eo[e]=i}return e}const dl="http://www.w3.org/1999/xlink";function Tm(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(dl,e.slice(6,e.length)):t.setAttributeNS(dl,e,n);else{const i=Ep(e);n==null||i&&!Fu(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function Cm(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const c=n==null?"":n;(t.value!==c||t.tagName==="OPTION")&&(t.value=c),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Fu(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}const[Bh,Sm]=(()=>{let t=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(t=()=>performance.now());const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let Fo=0;const Im=Promise.resolve(),Am=()=>{Fo=0},xm=()=>Fo||(Im.then(Am),Fo=Bh());function $n(t,e,n,s){t.addEventListener(e,n,s)}function Dm(t,e,n,s){t.removeEventListener(e,n,s)}function Nm(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,c]=km(e);if(s){const l=i[e]=Mm(s,r);$n(t,a,l,c)}else o&&(Dm(t,a,o,c),i[e]=void 0)}}const pl=/(?:Once|Passive|Capture)$/;function km(t){let e;if(pl.test(t)){e={};let n;for(;n=t.match(pl);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[as(t.slice(2)),e]}function Mm(t,e){const n=s=>{const r=s.timeStamp||Bh();(Sm||r>=n.attached-1)&&_t(Rm(s,n.value),e,5,[s])};return n.value=t,n.attached=xm(),n}function Rm(t,e){if(se(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const gl=/^on[a-z]/,Om=(t,e,n,s,r=!1,i,o,a,c)=>{e==="class"?Em(t,s,r):e==="style"?_m(t,n,s):di(e)?_a(e)||Nm(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Pm(t,e,s,r))?Cm(t,e,s,i,o,a,c):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Tm(t,e,s,r))};function Pm(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&gl.test(e)&&le(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||gl.test(e)&&je(n)?!1:e in t}const Lm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ag.props;const ml=t=>{const e=t.props["onUpdate:modelValue"];return se(e)?n=>kr(e,n):e};function $m(t){t.target.composing=!0}function yl(t){const e=t.target;e.composing&&(e.composing=!1,Fm(e,"input"))}function Fm(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}const vl={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t._assign=ml(r);const i=s||r.props&&r.props.type==="number";$n(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n?a=a.trim():i&&(a=_o(a)),t._assign(a)}),n&&$n(t,"change",()=>{t.value=t.value.trim()}),e||($n(t,"compositionstart",$m),$n(t,"compositionend",yl),$n(t,"change",yl))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},i){if(t._assign=ml(i),t.composing||document.activeElement===t&&(n||s&&t.value.trim()===e||(r||t.type==="number")&&_o(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},Vo={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):ws(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),ws(t,!0),s.enter(t)):s.leave(t,()=>{ws(t,!1)}):ws(t,e))},beforeUnmount(t,{value:e}){ws(t,e)}};function ws(t,e){t.style.display=e?t._vod:"none"}const Vm=nt({patchProp:Om},wm);let wl;function Bm(){return wl||(wl=Yg(Vm))}const Um=(...t)=>{const e=Bm().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=jm(s);if(!r)return;const i=e._component;!le(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function jm(t){return je(t)?document.querySelector(t):t}var nn=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n};const Hm={},Km={class:"my-4 flex"},qm=tr('<div class="flex-auto text-center"><div class="text-xl">Undangan Pernikahan</div><br><div class="font-hand text-8xl xs:text-6xl">Ananda</div><div class="font-hand text-4xl">&amp;</div><div class="font-hand text-8xl">Wahyu</div></div>',1),zm=[qm];function Wm(t,e){return ct(),lt("div",Km,zm)}var Gm=nn(Hm,[["render",Wm]]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Qm=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Ym={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let d=(a&15)<<2|l>>6,g=l&63;c||(g=64,o||(d=64)),s.push(n[u],n[h],n[d],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Uh(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Qm(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const l=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||l==null||h==null)throw Error();const d=i<<2|a>>4;if(s.push(d),l!==64){const g=a<<4&240|l>>2;if(s.push(g),h!==64){const y=l<<6&192|h;s.push(y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Xm=function(t){const e=Uh(t);return Ym.encodeByteArray(e,!0)},jh=function(t){return Xm(t).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zm(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ci())}function ey(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ty(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ny(){return Ci().indexOf("Electron/")>=0}function sy(){const t=Ci();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ry(){return Ci().indexOf("MSAppHost/")>=0}function iy(){return typeof indexedDB=="object"}function oy(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="FirebaseError";class Si extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ay,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hh.prototype.create)}}class Hh{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?cy(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Si(r,a,s)}}function cy(t,e){return t.replace(ly,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const ly=/\{\$([^}]+)}/g;function Bo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(El(i)&&El(o)){if(!Bo(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function El(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t){return t&&t._delegate?t._delegate:t}class Us{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Jm;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fy(e))try{this.getOrInitializeService({instanceIdentifier:ln})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=ln){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ln){return this.instances.has(e)}getOptions(e=ln){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(!!s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:hy(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ln){return this.component?this.component.multipleInstances?e:ln:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hy(t){return t===ln?void 0:t}function fy(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const py={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},gy=_e.INFO,my={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},yy=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=my[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kh{constructor(e){this.name=e,this._logLevel=gy,this._logHandler=yy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?py[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const vy=(t,e)=>e.some(n=>t instanceof n);let _l,bl;function wy(){return _l||(_l=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ey(){return bl||(bl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qh=new WeakMap,Uo=new WeakMap,zh=new WeakMap,to=new WeakMap,$a=new WeakMap;function _y(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Yt(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qh.set(n,t)}).catch(()=>{}),$a.set(e,t),e}function by(t){if(Uo.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Uo.set(t,e)}let jo={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uo.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zh.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ty(t){jo=t(jo)}function Cy(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(no(this),e,...n);return zh.set(s,e.sort?e.sort():[e]),Yt(s)}:Ey().includes(t)?function(...e){return t.apply(no(this),e),Yt(qh.get(this))}:function(...e){return Yt(t.apply(no(this),e))}}function Sy(t){return typeof t=="function"?Cy(t):(t instanceof IDBTransaction&&by(t),vy(t,wy())?new Proxy(t,jo):t)}function Yt(t){if(t instanceof IDBRequest)return _y(t);if(to.has(t))return to.get(t);const e=Sy(t);return e!==t&&(to.set(t,e),$a.set(e,t)),e}const no=t=>$a.get(t);function Iy(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Yt(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Yt(o.result),c.oldVersion,c.newVersion,Yt(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const Ay=["get","getKey","getAll","getAllKeys","count"],xy=["put","add","delete","clear"],so=new Map;function Tl(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(so.get(e))return so.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=xy.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||Ay.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let l=c.store;return s&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return so.set(e,i),i}Ty(t=>Kc(Hc({},t),{get:(e,n,s)=>Tl(e,n)||t.get(e,n,s),has:(e,n)=>!!Tl(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ny(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Ny(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ho="@firebase/app",Cl="0.7.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new Kh("@firebase/app"),ky="@firebase/app-compat",My="@firebase/analytics-compat",Ry="@firebase/analytics",Oy="@firebase/app-check-compat",Py="@firebase/app-check",Ly="@firebase/auth",$y="@firebase/auth-compat",Fy="@firebase/database",Vy="@firebase/database-compat",By="@firebase/functions",Uy="@firebase/functions-compat",jy="@firebase/installations",Hy="@firebase/installations-compat",Ky="@firebase/messaging",qy="@firebase/messaging-compat",zy="@firebase/performance",Wy="@firebase/performance-compat",Gy="@firebase/remote-config",Qy="@firebase/remote-config-compat",Yy="@firebase/storage",Xy="@firebase/storage-compat",Jy="@firebase/firestore",Zy="@firebase/firestore-compat",ev="firebase",tv="9.8.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="[DEFAULT]",nv={[Ho]:"fire-core",[ky]:"fire-core-compat",[Ry]:"fire-analytics",[My]:"fire-analytics-compat",[Py]:"fire-app-check",[Oy]:"fire-app-check-compat",[Ly]:"fire-auth",[$y]:"fire-auth-compat",[Fy]:"fire-rtdb",[Vy]:"fire-rtdb-compat",[By]:"fire-fn",[Uy]:"fire-fn-compat",[jy]:"fire-iid",[Hy]:"fire-iid-compat",[Ky]:"fire-fcm",[qy]:"fire-fcm-compat",[zy]:"fire-perf",[Wy]:"fire-perf-compat",[Gy]:"fire-rc",[Qy]:"fire-rc-compat",[Yy]:"fire-gcs",[Xy]:"fire-gcs-compat",[Jy]:"fire-fst",[Zy]:"fire-fst-compat","fire-js":"fire-js",[ev]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Map,Ko=new Map;function sv(t,e){try{t.container.addComponent(e)}catch(n){Fa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gr(t){const e=t.name;if(Ko.has(e))return Fa.debug(`There were multiple attempts to register component ${e}.`),!1;Ko.set(e,t);for(const n of Wr.values())sv(n,t);return!0}function rv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},_n=new Hh("app","Firebase",iv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=tv;function cv(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:Wh,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw _n.create("bad-app-name",{appName:String(s)});const r=Wr.get(s);if(r){if(Bo(t,r.options)&&Bo(n,r.config))return r;throw _n.create("duplicate-app",{appName:s})}const i=new dy(s);for(const a of Ko.values())i.addComponent(a);const o=new ov(t,n,i);return Wr.set(s,o),o}function lv(t=Wh){const e=Wr.get(t);if(!e)throw _n.create("no-app",{appName:t});return e}function Kn(t,e,n){var s;let r=(s=nv[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fa.warn(a.join(" "));return}Gr(new Us(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="firebase-heartbeat-database",hv=1,js="firebase-heartbeat-store";let ro=null;function Gh(){return ro||(ro=Iy(uv,hv,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(js)}}}).catch(t=>{throw _n.create("storage-open",{originalErrorMessage:t.message})})),ro}async function fv(t){try{return(await Gh()).transaction(js).objectStore(js).get(Qh(t))}catch(e){throw _n.create("storage-get",{originalErrorMessage:e.message})}}async function Sl(t,e){try{const s=(await Gh()).transaction(js,"readwrite");return await s.objectStore(js).put(e,Qh(t)),s.done}catch(n){throw _n.create("storage-set",{originalErrorMessage:n.message})}}function Qh(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=1024,pv=30*24*60*60*1e3;class gv{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yv(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Il();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=pv}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Il(),{heartbeatsToSend:n,unsentEntries:s}=mv(this._heartbeatsCache.heartbeats),r=jh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Il(){return new Date().toISOString().substring(0,10)}function mv(t,e=dv){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Al(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Al(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class yv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iy()?oy().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await fv(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Sl(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Sl(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Al(t){return jh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t){Gr(new Us("platform-logger",e=>new Dy(e),"PRIVATE")),Gr(new Us("heartbeat",e=>new gv(e),"PRIVATE")),Kn(Ho,Cl,t),Kn(Ho,Cl,"esm2017"),Kn("fire-js","")}vv("");var wv=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},$,Va=Va||{},J=wv||self;function Qr(){}function qo(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function nr(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Ev(t){return Object.prototype.hasOwnProperty.call(t,io)&&t[io]||(t[io]=++_v)}var io="closure_uid_"+(1e9*Math.random()>>>0),_v=0;function bv(t,e,n){return t.call.apply(t.bind,arguments)}function Tv(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Ge(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ge=bv:Ge=Tv,Ge.apply(null,arguments)}function br(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function Je(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(s,o)}}function sn(){this.s=this.s,this.o=this.o}var Cv=0,Sv={};sn.prototype.s=!1;sn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),Cv!=0)){var t=Ev(this);delete Sv[t]}};sn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Yh=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Xh=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const s=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<s;i++)i in r&&e.call(n,r[i],i,t)};function Iv(t){e:{var e=y0;const n=t.length,s=typeof t=="string"?t.split(""):t;for(let r=0;r<n;r++)if(r in s&&e.call(void 0,s[r],r,t)){e=r;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function xl(t){return Array.prototype.concat.apply([],arguments)}function Ba(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function Yr(t){return/^[\s\xa0]*$/.test(t)}var Dl=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function it(t,e){return t.indexOf(e)!=-1}function oo(t,e){return t<e?-1:t>e?1:0}var ot;e:{var Nl=J.navigator;if(Nl){var kl=Nl.userAgent;if(kl){ot=kl;break e}}ot=""}function Ua(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function Jh(t){const e={};for(const n in t)e[n]=t[n];return e}var Ml="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zh(t,e){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)t[n]=s[n];for(let i=0;i<Ml.length;i++)n=Ml[i],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function ja(t){return ja[" "](t),t}ja[" "]=Qr;function Av(t){var e=Nv;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var xv=it(ot,"Opera"),Xn=it(ot,"Trident")||it(ot,"MSIE"),ef=it(ot,"Edge"),zo=ef||Xn,tf=it(ot,"Gecko")&&!(it(ot.toLowerCase(),"webkit")&&!it(ot,"Edge"))&&!(it(ot,"Trident")||it(ot,"MSIE"))&&!it(ot,"Edge"),Dv=it(ot.toLowerCase(),"webkit")&&!it(ot,"Edge");function nf(){var t=J.document;return t?t.documentMode:void 0}var Xr;e:{var ao="",co=function(){var t=ot;if(tf)return/rv:([^\);]+)(\)|;)/.exec(t);if(ef)return/Edge\/([\d\.]+)/.exec(t);if(Xn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Dv)return/WebKit\/(\S+)/.exec(t);if(xv)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(co&&(ao=co?co[1]:""),Xn){var lo=nf();if(lo!=null&&lo>parseFloat(ao)){Xr=String(lo);break e}}Xr=ao}var Nv={};function kv(){return Av(function(){let t=0;const e=Dl(String(Xr)).split("."),n=Dl("9").split("."),s=Math.max(e.length,n.length);for(let o=0;t==0&&o<s;o++){var r=e[o]||"",i=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r[0].length==0&&i[0].length==0)break;t=oo(r[1].length==0?0:parseInt(r[1],10),i[1].length==0?0:parseInt(i[1],10))||oo(r[2].length==0,i[2].length==0)||oo(r[2],i[2]),r=r[3],i=i[3]}while(t==0)}return 0<=t})}var Wo;if(J.document&&Xn){var Rl=nf();Wo=Rl||parseInt(Xr,10)||void 0}else Wo=void 0;var Mv=Wo,Rv=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{J.addEventListener("test",Qr,e),J.removeEventListener("test",Qr,e)}catch{}return t}();function et(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};function Hs(t,e){if(et.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(tf){e:{try{ja(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Ov[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Hs.Z.h.call(this)}}Je(Hs,et);var Ov={2:"touch",3:"pen",4:"mouse"};Hs.prototype.h=function(){Hs.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var sr="closure_listenable_"+(1e6*Math.random()|0),Pv=0;function Lv(t,e,n,s,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.ia=r,this.key=++Pv,this.ca=this.fa=!1}function Ii(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Ai(t){this.src=t,this.g={},this.h=0}Ai.prototype.add=function(t,e,n,s,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Qo(t,e,s,r);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new Lv(e,this.src,i,!!s,r),e.fa=n,t.push(e)),e};function Go(t,e){var n=e.type;if(n in t.g){var s=t.g[n],r=Yh(s,e),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(Ii(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Qo(t,e,n,s){for(var r=0;r<t.length;++r){var i=t[r];if(!i.ca&&i.listener==e&&i.capture==!!n&&i.ia==s)return r}return-1}var Ha="closure_lm_"+(1e6*Math.random()|0),uo={};function sf(t,e,n,s,r){if(s&&s.once)return of(t,e,n,s,r);if(Array.isArray(e)){for(var i=0;i<e.length;i++)sf(t,e[i],n,s,r);return null}return n=za(n),t&&t[sr]?t.N(e,n,nr(s)?!!s.capture:!!s,r):rf(t,e,n,!1,s,r)}function rf(t,e,n,s,r,i){if(!e)throw Error("Invalid event type");var o=nr(r)?!!r.capture:!!r,a=qa(t);if(a||(t[Ha]=a=new Ai(t)),n=a.add(e,n,s,o,i),n.proxy)return n;if(s=$v(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)Rv||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),s,r);else if(t.attachEvent)t.attachEvent(cf(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function $v(){function t(n){return e.call(t.src,t.listener,n)}var e=Fv;return t}function of(t,e,n,s,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)of(t,e[i],n,s,r);return null}return n=za(n),t&&t[sr]?t.O(e,n,nr(s)?!!s.capture:!!s,r):rf(t,e,n,!0,s,r)}function af(t,e,n,s,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)af(t,e[i],n,s,r);else s=nr(s)?!!s.capture:!!s,n=za(n),t&&t[sr]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Qo(i,n,s,r),-1<n&&(Ii(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=qa(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Qo(e,n,s,r)),(n=-1<t?e[t]:null)&&Ka(n))}function Ka(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[sr])Go(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(cf(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=qa(e))?(Go(n,t),n.h==0&&(n.src=null,e[Ha]=null)):Ii(t)}}}function cf(t){return t in uo?uo[t]:uo[t]="on"+t}function Fv(t,e){if(t.ca)t=!0;else{e=new Hs(e,this);var n=t.listener,s=t.ia||t.src;t.fa&&Ka(t),t=n.call(s,e)}return t}function qa(t){return t=t[Ha],t instanceof Ai?t:null}var ho="__closure_events_fn_"+(1e9*Math.random()>>>0);function za(t){return typeof t=="function"?t:(t[ho]||(t[ho]=function(e){return t.handleEvent(e)}),t[ho])}function He(){sn.call(this),this.i=new Ai(this),this.P=this,this.I=null}Je(He,sn);He.prototype[sr]=!0;He.prototype.removeEventListener=function(t,e,n,s){af(this,t,e,n,s)};function Qe(t,e){var n,s=t.I;if(s)for(n=[];s;s=s.I)n.push(s);if(t=t.P,s=e.type||e,typeof e=="string")e=new et(e,t);else if(e instanceof et)e.target=e.target||t;else{var r=e;e=new et(s,t),Zh(e,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];r=Tr(o,s,!0,e)&&r}if(o=e.g=t,r=Tr(o,s,!0,e)&&r,r=Tr(o,s,!1,e)&&r,n)for(i=0;i<n.length;i++)o=e.g=n[i],r=Tr(o,s,!1,e)&&r}He.prototype.M=function(){if(He.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Ii(n[s]);delete t.g[e],t.h--}}this.I=null};He.prototype.N=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};He.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function Tr(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&Go(t.i,o),r=a.call(c,s)!==!1&&r}}return r&&!s.defaultPrevented}var Wa=J.JSON.stringify;function Vv(){var t=uf;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Bv{constructor(){this.h=this.g=null}add(e,n){const s=lf.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var lf=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Uv,t=>t.reset());class Uv{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function jv(t){J.setTimeout(()=>{throw t},0)}function Ga(t,e){Yo||Hv(),Xo||(Yo(),Xo=!0),uf.add(t,e)}var Yo;function Hv(){var t=J.Promise.resolve(void 0);Yo=function(){t.then(Kv)}}var Xo=!1,uf=new Bv;function Kv(){for(var t;t=Vv();){try{t.h.call(t.g)}catch(n){jv(n)}var e=lf;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Xo=!1}function xi(t,e){He.call(this),this.h=t||1,this.g=e||J,this.j=Ge(this.kb,this),this.l=Date.now()}Je(xi,He);$=xi.prototype;$.da=!1;$.S=null;$.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qe(this,"tick"),this.da&&(Qa(this),this.start()))}};$.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Qa(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}$.M=function(){xi.Z.M.call(this),Qa(this),delete this.g};function Ya(t,e,n){if(typeof t=="function")n&&(t=Ge(t,n));else if(t&&typeof t.handleEvent=="function")t=Ge(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function hf(t){t.g=Ya(()=>{t.g=null,t.i&&(t.i=!1,hf(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class qv extends sn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hf(this)}M(){super.M(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(t){sn.call(this),this.h=t,this.g={}}Je(Ks,sn);var Ol=[];function ff(t,e,n,s){Array.isArray(n)||(n&&(Ol[0]=n.toString()),n=Ol);for(var r=0;r<n.length;r++){var i=sf(e,n[r],s||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function df(t){Ua(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ka(e)},t),t.g={}}Ks.prototype.M=function(){Ks.Z.M.call(this),df(this)};Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Di(){this.g=!0}Di.prototype.Aa=function(){this.g=!1};function zv(t,e,n,s,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function Wv(t,e,n,s,r,i,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+e+`
`+n+`
`+i+" "+o})}function Vn(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Qv(t,n)+(s?" "+s:"")})}function Gv(t,e){t.info(function(){return"TIMEOUT: "+e})}Di.prototype.info=function(){};function Qv(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Wa(n)}catch{return e}}var Nn={},Pl=null;function Ni(){return Pl=Pl||new He}Nn.Ma="serverreachability";function pf(t){et.call(this,Nn.Ma,t)}Je(pf,et);function qs(t){const e=Ni();Qe(e,new pf(e,t))}Nn.STAT_EVENT="statevent";function gf(t,e){et.call(this,Nn.STAT_EVENT,t),this.stat=e}Je(gf,et);function at(t){const e=Ni();Qe(e,new gf(e,t))}Nn.Na="timingevent";function mf(t,e){et.call(this,Nn.Na,t),this.size=e}Je(mf,et);function rr(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}var ki={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},yf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Xa(){}Xa.prototype.h=null;function Ll(t){return t.h||(t.h=t.i())}function vf(){}var ir={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ja(){et.call(this,"d")}Je(Ja,et);function Za(){et.call(this,"c")}Je(Za,et);var Jo;function Mi(){}Je(Mi,Xa);Mi.prototype.g=function(){return new XMLHttpRequest};Mi.prototype.i=function(){return{}};Jo=new Mi;function or(t,e,n,s){this.l=t,this.j=e,this.m=n,this.X=s||1,this.V=new Ks(this),this.P=Yv,t=zo?125:void 0,this.W=new xi(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new wf}function wf(){this.i=null,this.g="",this.h=!1}var Yv=45e3,Zo={},Jr={};$=or.prototype;$.setTimeout=function(t){this.P=t};function ea(t,e,n){t.K=1,t.v=Oi(Bt(e)),t.s=n,t.U=!0,Ef(t,null)}function Ef(t,e){t.F=Date.now(),ar(t),t.A=Bt(t.v);var n=t.A,s=t.X;Array.isArray(s)||(s=[String(s)]),Af(n.h,"t",s),t.C=0,n=t.l.H,t.h=new wf,t.g=Wf(t.l,n?e:null,!t.s),0<t.O&&(t.L=new qv(Ge(t.Ia,t,t.g),t.O)),ff(t.V,t.g,"readystatechange",t.gb),e=t.H?Jh(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),qs(1),zv(t.j,t.u,t.A,t.m,t.X,t.s)}$.gb=function(t){t=t.target;const e=this.L;e&&Pt(t)==3?e.l():this.Ia(t)};$.Ia=function(t){try{if(t==this.g)e:{const u=Pt(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>u)&&(u!=3||zo||this.g&&(this.h.h||this.g.ga()||Bl(this.g)))){this.I||u!=4||e==7||(e==8||0>=h?qs(3):qs(2)),Ri(this);var n=this.g.ba();this.N=n;t:if(_f(this)){var s=Bl(this.g);t="";var r=s.length,i=Pt(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){dn(this),Ns(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:i&&e==r-1});s.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,Wv(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yr(a)){var l=a;break t}}l=null}if(n=l)Vn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ta(this,n);else{this.i=!1,this.o=3,at(12),dn(this),Ns(this);break e}}this.U?(bf(this,u,o),zo&&this.i&&u==3&&(ff(this.V,this.W,"tick",this.fb),this.W.start())):(Vn(this.j,this.m,o,null),ta(this,o)),u==4&&dn(this),this.i&&!this.I&&(u==4?Hf(this.l,this):(this.i=!1,ar(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,at(12)):(this.o=0,at(13)),dn(this),Ns(this)}}}catch{}finally{}};function _f(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function bf(t,e,n){let s=!0,r;for(;!t.I&&t.C<n.length;)if(r=Xv(t,n),r==Jr){e==4&&(t.o=4,at(14),s=!1),Vn(t.j,t.m,null,"[Incomplete Response]");break}else if(r==Zo){t.o=4,at(15),Vn(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else Vn(t.j,t.m,r,null),ta(t,r);_f(t)&&r!=Jr&&r!=Zo&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,at(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),cc(e),e.L=!0,at(11))):(Vn(t.j,t.m,n,"[Invalid Chunked Response]"),dn(t),Ns(t))}$.fb=function(){if(this.g){var t=Pt(this.g),e=this.g.ga();this.C<e.length&&(Ri(this),bf(this,t,e),this.i&&t!=4&&ar(this))}};function Xv(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?Jr:(n=Number(e.substring(n,s)),isNaN(n)?Zo:(s+=1,s+n>e.length?Jr:(e=e.substr(s,n),t.C=s+n,e)))}$.cancel=function(){this.I=!0,dn(this)};function ar(t){t.Y=Date.now()+t.P,Tf(t,t.P)}function Tf(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=rr(Ge(t.eb,t),e)}function Ri(t){t.B&&(J.clearTimeout(t.B),t.B=null)}$.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Gv(this.j,this.A),this.K!=2&&(qs(3),at(17)),dn(this),this.o=2,Ns(this)):Tf(this,this.Y-t)};function Ns(t){t.l.G==0||t.I||Hf(t.l,t)}function dn(t){Ri(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Qa(t.W),df(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ta(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||na(n.i,t))){if(n.I=t.N,!t.J&&na(n.i,t)&&n.G==3){try{var s=n.Ca.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)ni(n),$i(n);else break e;ac(n),at(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&n.A==0&&!n.v&&(n.v=rr(Ge(n.ab,n),6e3));if(1>=Nf(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else pn(n,11)}else if((t.J||n.g==t)&&ni(n),!Yr(e))for(r=n.Ca.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.U=l[0],l=l[1],n.G==2)if(l[0]=="c"){n.J=l[1],n.la=l[2];const u=l[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));const h=l[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(s=1.5*d,n.K=s,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;const g=t.g;if(g){const y=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var i=s.i;!i.g&&(it(y,"spdy")||it(y,"quic")||it(y,"h2"))&&(i.j=i.l,i.g=new Set,i.h&&(nc(i,i.h),i.h=null))}if(s.D){const C=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(s.sa=C,Me(s.F,s.D,C))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),s=n;var o=t;if(s.oa=zf(s,s.H?s.la:null,s.W),o.J){kf(s.i,o);var a=o,c=s.K;c&&a.setTimeout(c),a.B&&(Ri(a),ar(a)),s.g=o}else Uf(s);0<n.l.length&&Fi(n)}else l[0]!="stop"&&l[0]!="close"||pn(n,7);else n.G==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?pn(n,7):oc(n):l[0]!="noop"&&n.j&&n.j.wa(l),n.A=0)}}qs(4)}catch{}}function Jv(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(qo(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function ec(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(qo(t)||typeof t=="string")Xh(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(qo(t)||typeof t=="string"){n=[];for(var s=t.length,r=0;r<s;r++)n.push(r)}else for(r in n=[],s=0,t)n[s++]=r;s=Jv(t),r=s.length;for(var i=0;i<r;i++)e.call(void 0,s[i],n&&n[i],t)}}function us(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(t)if(t instanceof us)for(n=t.T(),s=0;s<n.length;s++)this.set(n[s],t.get(n[s]));else for(s in t)this.set(s,t[s])}$=us.prototype;$.R=function(){tc(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};$.T=function(){return tc(this),this.g.concat()};function tc(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var s=t.g[e];bn(t.h,s)&&(t.g[n++]=s),e++}t.g.length=n}if(t.i!=t.g.length){var r={};for(n=e=0;e<t.g.length;)s=t.g[e],bn(r,s)||(t.g[n++]=s,r[s]=1),e++;t.g.length=n}}$.get=function(t,e){return bn(this.h,t)?this.h[t]:e};$.set=function(t,e){bn(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};$.forEach=function(t,e){for(var n=this.T(),s=0;s<n.length;s++){var r=n[s],i=this.get(r);t.call(e,i,r,this)}};function bn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Cf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zv(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),r=null;if(0<=s){var i=t[n].substring(0,s);r=t[n].substring(s+1)}else i=t[n];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Tn(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Tn){this.g=e!==void 0?e:t.g,Zr(this,t.j),this.s=t.s,ei(this,t.i),ti(this,t.m),this.l=t.l,e=t.h;var n=new zs;n.i=e.i,e.g&&(n.g=new us(e.g),n.h=e.h),$l(this,n),this.o=t.o}else t&&(n=String(t).match(Cf))?(this.g=!!e,Zr(this,n[1]||"",!0),this.s=ks(n[2]||""),ei(this,n[3]||"",!0),ti(this,n[4]),this.l=ks(n[5]||"",!0),$l(this,n[6]||"",!0),this.o=ks(n[7]||"")):(this.g=!!e,this.h=new zs(null,this.g))}Tn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Cs(e,Fl,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Cs(e,Fl,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Cs(n,n.charAt(0)=="/"?r0:s0,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Cs(n,o0)),t.join("")};function Bt(t){return new Tn(t)}function Zr(t,e,n){t.j=n?ks(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ei(t,e,n){t.i=n?ks(e,!0):e}function ti(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function $l(t,e,n){e instanceof zs?(t.h=e,a0(t.h,t.g)):(n||(e=Cs(e,i0)),t.h=new zs(e,t.g))}function Me(t,e,n){t.h.set(e,n)}function Oi(t){return Me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function e0(t){return t instanceof Tn?Bt(t):new Tn(t,void 0)}function t0(t,e,n,s){var r=new Tn(null,void 0);return t&&Zr(r,t),e&&ei(r,e),n&&ti(r,n),s&&(r.l=s),r}function ks(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Cs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,n0),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function n0(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Fl=/[#\/\?@]/g,s0=/[#\?:]/g,r0=/[#\?]/g,i0=/[#\?@]/g,o0=/#/g;function zs(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function rn(t){t.g||(t.g=new us,t.h=0,t.i&&Zv(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}$=zs.prototype;$.add=function(t,e){rn(this),this.i=null,t=hs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Sf(t,e){rn(t),e=hs(t,e),bn(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,bn(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&tc(t)))}function If(t,e){return rn(t),e=hs(t,e),bn(t.g.h,e)}$.forEach=function(t,e){rn(this),this.g.forEach(function(n,s){Xh(n,function(r){t.call(e,r,s,this)},this)},this)};$.T=function(){rn(this);for(var t=this.g.R(),e=this.g.T(),n=[],s=0;s<e.length;s++)for(var r=t[s],i=0;i<r.length;i++)n.push(e[s]);return n};$.R=function(t){rn(this);var e=[];if(typeof t=="string")If(this,t)&&(e=xl(e,this.g.get(hs(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=xl(e,t[n])}return e};$.set=function(t,e){return rn(this),this.i=null,t=hs(this,t),If(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};$.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function Af(t,e,n){Sf(t,e),0<n.length&&(t.i=null,t.g.set(hs(t,e),Ba(n)),t.h+=n.length)}$.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var s=e[n],r=encodeURIComponent(String(s));s=this.R(s);for(var i=0;i<s.length;i++){var o=r;s[i]!==""&&(o+="="+encodeURIComponent(String(s[i]))),t.push(o)}}return this.i=t.join("&")};function hs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function a0(t,e){e&&!t.j&&(rn(t),t.i=null,t.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(Sf(this,s),Af(this,r,n))},t)),t.j=e}var c0=class{constructor(t,e){this.h=t,this.g=e}};function xf(t){this.l=t||l0,J.PerformanceNavigationTiming?(t=J.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(J.g&&J.g.Ea&&J.g.Ea()&&J.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var l0=10;function Df(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Nf(t){return t.h?1:t.g?t.g.size:0}function na(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function nc(t,e){t.g?t.g.add(e):t.h=e}function kf(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}xf.prototype.cancel=function(){if(this.i=Mf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Mf(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Ba(t.i)}function sc(){}sc.prototype.stringify=function(t){return J.JSON.stringify(t,void 0)};sc.prototype.parse=function(t){return J.JSON.parse(t,void 0)};function u0(){this.g=new sc}function h0(t,e,n){const s=n||"";try{ec(t,function(r,i){let o=r;nr(r)&&(o=Wa(r)),e.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(s+"type="+encodeURIComponent("_badmap")),r}}function f0(t,e){const n=new Di;if(J.Image){const s=new Image;s.onload=br(Cr,n,s,"TestLoadImage: loaded",!0,e),s.onerror=br(Cr,n,s,"TestLoadImage: error",!1,e),s.onabort=br(Cr,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=br(Cr,n,s,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function Cr(t,e,n,s,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(s)}catch{}}function cr(t){this.l=t.$b||null,this.j=t.ib||!1}Je(cr,Xa);cr.prototype.g=function(){return new Pi(this.l,this.j)};cr.prototype.i=function(t){return function(){return t}}({});function Pi(t,e){He.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=rc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Je(Pi,He);var rc=0;$=Pi.prototype;$.open=function(t,e){if(this.readyState!=rc)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ws(this)};$.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||J).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};$.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=rc};$.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ws(this)),this.g&&(this.readyState=3,Ws(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof J.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rf(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function Rf(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}$.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?lr(this):Ws(this),this.readyState==3&&Rf(this)}};$.Ua=function(t){this.g&&(this.response=this.responseText=t,lr(this))};$.Ta=function(t){this.g&&(this.response=t,lr(this))};$.ha=function(){this.g&&lr(this)};function lr(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ws(t)}$.setRequestHeader=function(t,e){this.v.append(t,e)};$.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};$.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ws(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var d0=J.JSON.parse;function Ve(t){He.call(this),this.headers=new us,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Of,this.K=this.L=!1}Je(Ve,He);var Of="",p0=/^https?$/i,g0=["POST","PUT"];$=Ve.prototype;$.ea=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jo.g(),this.C=this.u?Ll(this.u):Ll(Jo),this.g.onreadystatechange=Ge(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(i){Vl(this,i);return}t=n||"";const r=new us(this.headers);s&&ec(s,function(i,o){r.set(o,i)}),s=Iv(r.T()),n=J.FormData&&t instanceof J.FormData,!(0<=Yh(g0,e))||s||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(i,o){this.g.setRequestHeader(o,i)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$f(this),0<this.B&&((this.K=m0(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ge(this.pa,this)):this.A=Ya(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Vl(this,i)}};function m0(t){return Xn&&kv()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function y0(t){return t.toLowerCase()=="content-type"}$.pa=function(){typeof Va!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qe(this,"timeout"),this.abort(8))};function Vl(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Pf(t),Li(t)}function Pf(t){t.D||(t.D=!0,Qe(t,"complete"),Qe(t,"error"))}$.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qe(this,"complete"),Qe(this,"abort"),Li(this))};$.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Li(this,!0)),Ve.Z.M.call(this)};$.Fa=function(){this.s||(this.F||this.v||this.l?Lf(this):this.cb())};$.cb=function(){Lf(this)};function Lf(t){if(t.h&&typeof Va!="undefined"&&(!t.C[1]||Pt(t)!=4||t.ba()!=2)){if(t.v&&Pt(t)==4)Ya(t.Fa,0,t);else if(Qe(t,"readystatechange"),Pt(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=a===0){var r=String(t.H).match(Cf)[1]||null;if(!r&&J.self&&J.self.location){var i=J.self.location.protocol;r=i.substr(0,i.length-1)}s=!p0.test(r?r.toLowerCase():"")}n=s}if(n)Qe(t,"complete"),Qe(t,"success");else{t.m=6;try{var o=2<Pt(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",Pf(t)}}finally{Li(t)}}}}function Li(t,e){if(t.g){$f(t);const n=t.g,s=t.C[0]?Qr:null;t.g=null,t.C=null,e||Qe(t,"ready");try{n.onreadystatechange=s}catch{}}}function $f(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}function Pt(t){return t.g?t.g.readyState:0}$.ba=function(){try{return 2<Pt(this)?this.g.status:-1}catch{return-1}};$.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};$.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),d0(e)}};function Bl(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Of:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}$.Da=function(){return this.m};$.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function v0(t){let e="";return Ua(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function ic(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=v0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Me(t,e,n))}function Es(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ff(t){this.za=0,this.l=[],this.h=new Di,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Es("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Es("baseRetryDelayMs",5e3,t),this.$a=Es("retryDelaySeedMs",1e4,t),this.Ya=Es("forwardChannelMaxRetries",2,t),this.ra=Es("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new xf(t&&t.concurrentRequestLimit),this.Ca=new u0,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}$=Ff.prototype;$.ma=8;$.G=1;function oc(t){if(Vf(t),t.G==3){var e=t.V++,n=Bt(t.F);Me(n,"SID",t.J),Me(n,"RID",e),Me(n,"TYPE","terminate"),ur(t,n),e=new or(t,t.h,e,void 0),e.K=2,e.v=Oi(Bt(n)),n=!1,J.navigator&&J.navigator.sendBeacon&&(n=J.navigator.sendBeacon(e.v.toString(),"")),!n&&J.Image&&(new Image().src=e.v,n=!0),n||(e.g=Wf(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ar(e)}qf(t)}$.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function $i(t){t.g&&(cc(t),t.g.cancel(),t.g=null)}function Vf(t){$i(t),t.u&&(J.clearTimeout(t.u),t.u=null),ni(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&J.clearTimeout(t.m),t.m=null)}function fo(t,e){t.l.push(new c0(t.Za++,e)),t.G==3&&Fi(t)}function Fi(t){Df(t.i)||t.m||(t.m=!0,Ga(t.Ha,t),t.C=0)}function w0(t,e){return Nf(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=rr(Ge(t.Ha,t,e),Kf(t,t.C)),t.C++,!0)}$.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const r=new or(this,this.h,t,void 0);let i=this.s;if(this.P&&(i?(i=Jh(i),Zh(i,this.P)):i=this.P),this.o===null&&(r.H=i),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var s=this.l[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Bf(this,r,e),n=Bt(this.F),Me(n,"RID",t),Me(n,"CVER",22),this.D&&Me(n,"X-HTTP-Session-Id",this.D),ur(this,n),this.o&&i&&ic(n,this.o,i),nc(this.i,r),this.Ra&&Me(n,"TYPE","init"),this.ja?(Me(n,"$req",e),Me(n,"SID","null"),r.$=!0,ea(r,n,null)):ea(r,n,e),this.G=2}}else this.G==3&&(t?Ul(this,t):this.l.length==0||Df(this.i)||Ul(this))};function Ul(t,e){var n;e?n=e.m:n=t.V++;const s=Bt(t.F);Me(s,"SID",t.J),Me(s,"RID",n),Me(s,"AID",t.U),ur(t,s),t.o&&t.s&&ic(s,t.o,t.s),n=new or(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Bf(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),nc(t.i,n),ea(n,s,e)}function ur(t,e){t.j&&ec({},function(n,s){Me(e,s,n)})}function Bf(t,e,n){n=Math.min(t.l.length,n);var s=t.j?Ge(t.j.Oa,t.j,t):null;e:{var r=t.l;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let l=r[c].h;const u=r[c].g;if(l-=i,0>l)i=Math.max(0,r[c].h-100),a=!1;else try{h0(u,o,"req"+l+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,s}function Uf(t){t.g||t.u||(t.Y=1,Ga(t.Ga,t),t.A=0)}function ac(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=rr(Ge(t.Ga,t),Kf(t,t.A)),t.A++,!0)}$.Ga=function(){if(this.u=null,jf(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=rr(Ge(this.bb,this),t)}};$.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,at(10),$i(this),jf(this))};function cc(t){t.B!=null&&(J.clearTimeout(t.B),t.B=null)}function jf(t){t.g=new or(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Bt(t.oa);Me(e,"RID","rpc"),Me(e,"SID",t.J),Me(e,"CI",t.N?"0":"1"),Me(e,"AID",t.U),ur(t,e),Me(e,"TYPE","xmlhttp"),t.o&&t.s&&ic(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Oi(Bt(e)),n.s=null,n.U=!0,Ef(n,t)}$.ab=function(){this.v!=null&&(this.v=null,$i(this),ac(this),at(19))};function ni(t){t.v!=null&&(J.clearTimeout(t.v),t.v=null)}function Hf(t,e){var n=null;if(t.g==e){ni(t),cc(t),t.g=null;var s=2}else if(na(t.i,e))n=e.D,kf(t.i,e),s=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;s=Ni(),Qe(s,new mf(s,n,e,r)),Fi(t)}else Uf(t);else if(r=e.o,r==3||r==0&&0<t.I||!(s==1&&w0(t,e)||s==2&&ac(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:pn(t,5);break;case 4:pn(t,10);break;case 3:pn(t,6);break;default:pn(t,2)}}}function Kf(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function pn(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var s=Ge(t.jb,t);n||(n=new Tn("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||Zr(n,"https"),Oi(n)),f0(n.toString(),s)}else at(2);t.G=0,t.j&&t.j.va(e),qf(t),Vf(t)}$.jb=function(t){t?(this.h.info("Successfully pinged google.com"),at(2)):(this.h.info("Failed to ping google.com"),at(1))};function qf(t){t.G=0,t.I=-1,t.j&&((Mf(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Ba(t.l),t.l.length=0),t.j.ua())}function zf(t,e,n){let s=e0(n);if(s.i!="")e&&ei(s,e+"."+s.i),ti(s,s.m);else{const r=J.location;s=t0(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.aa&&Ua(t.aa,function(r,i){Me(s,i,r)}),e=t.D,n=t.sa,e&&n&&Me(s,e,n),Me(s,"VER",t.ma),ur(t,s),s}function Wf(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Ve(new cr({ib:!0})):new Ve(t.qa),e.L=t.H,e}function Gf(){}$=Gf.prototype;$.xa=function(){};$.wa=function(){};$.va=function(){};$.ua=function(){};$.Oa=function(){};function si(){if(Xn&&!(10<=Number(Mv)))throw Error("Environmental error: no available transport.")}si.prototype.g=function(t,e){return new vt(t,e)};function vt(t,e){He.call(this),this.g=new Ff(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Yr(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yr(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new fs(this)}Je(vt,He);vt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Ga(Ge(t.hb,t,e))),at(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=zf(t,null,t.W),Fi(t)};vt.prototype.close=function(){oc(this.g)};vt.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,fo(this.g,e)}else this.v?(e={},e.__data__=Wa(t),fo(this.g,e)):fo(this.g,t)};vt.prototype.M=function(){this.g.j=null,delete this.j,oc(this.g),delete this.g,vt.Z.M.call(this)};function Qf(t){Ja.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Je(Qf,Ja);function Yf(){Za.call(this),this.status=1}Je(Yf,Za);function fs(t){this.g=t}Je(fs,Gf);fs.prototype.xa=function(){Qe(this.g,"a")};fs.prototype.wa=function(t){Qe(this.g,new Qf(t))};fs.prototype.va=function(t){Qe(this.g,new Yf(t))};fs.prototype.ua=function(){Qe(this.g,"b")};si.prototype.createWebChannel=si.prototype.g;vt.prototype.send=vt.prototype.u;vt.prototype.open=vt.prototype.m;vt.prototype.close=vt.prototype.close;ki.NO_ERROR=0;ki.TIMEOUT=8;ki.HTTP_ERROR=6;yf.COMPLETE="complete";vf.EventType=ir;ir.OPEN="a";ir.CLOSE="b";ir.ERROR="c";ir.MESSAGE="d";He.prototype.listen=He.prototype.N;Ve.prototype.listenOnce=Ve.prototype.O;Ve.prototype.getLastError=Ve.prototype.La;Ve.prototype.getLastErrorCode=Ve.prototype.Da;Ve.prototype.getStatus=Ve.prototype.ba;Ve.prototype.getResponseJson=Ve.prototype.Qa;Ve.prototype.getResponseText=Ve.prototype.ga;Ve.prototype.send=Ve.prototype.ea;var E0=function(){return new si},_0=function(){return Ni()},po=ki,b0=yf,T0=Nn,jl={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},C0=cr,Sr=vf,S0=Ve;const Hl="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ds="9.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn=new Kh("@firebase/firestore");function Kl(){return Cn.logLevel}function H(t,...e){if(Cn.logLevel<=_e.DEBUG){const n=e.map(lc);Cn.debug(`Firestore (${ds}): ${t}`,...n)}}function Zt(t,...e){if(Cn.logLevel<=_e.ERROR){const n=e.map(lc);Cn.error(`Firestore (${ds}): ${t}`,...n)}}function ql(t,...e){if(Cn.logLevel<=_e.WARN){const n=e.map(lc);Cn.warn(`Firestore (${ds}): ${t}`,...n)}}function lc(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t="Unexpected state"){const e=`FIRESTORE (${ds}) INTERNAL ASSERTION FAILED: `+t;throw Zt(e),new Error(e)}function xe(t,e){t||ne()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ht.UNAUTHENTICATED))}shutdown(){}}class x0{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new vn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new vn,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},a=c=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new vn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(xe(typeof s.accessToken=="string"),new I0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new ht(e)}}class D0{constructor(e,n,s){this.type="FirstParty",this.user=ht.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class N0{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new D0(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M0{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const s=i=>{i.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.p;return this.p=i.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.p=n.token,new k0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.I(s),this.T=s=>n.writeSequenceNumber(s))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uc.A=-1;class Xf{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const r=R0(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%e.length))}return s}}function be(t,e){return t<e?-1:t>e?1:0}function Jn(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new tt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new tt(0,0))}static max(){return new he(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Jf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,s){n===void 0?n=0:n>e.length&&ne(),s===void 0?s=e.length-n:s>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Gs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gs?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=e.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Re extends Gs{construct(e,n,s){return new Re(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Q(S.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const O0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends Gs{construct(e,n,s){return new dt(e,n,s)}static isValidIdentifier(e){return O0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new dt(["__name__"])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new Q(S.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new Q(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Q(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new Q(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(n)}static emptyPath(){return new dt([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.fields=e,e.sort(dt.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jn(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Xe(n)}static fromUint8Array(e){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(e);return new Xe(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const P0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function en(t){if(xe(!!t),typeof t=="string"){let e=0;const n=P0.exec(t);if(xe(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zn(t){return typeof t=="string"?Xe.fromBase64String(t):Xe.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ed(t){const e=t.mapValue.fields.__previous_value__;return Zf(e)?ed(e):e}function Qs(t){const e=en(t.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,s,r,i,o,a,c){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class es{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new es("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof es&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t){return t==null}function ri(t){return t===0&&1/t==-1/0}function $0(t){return typeof t=="number"&&Number.isInteger(t)&&!ri(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.path=e}static fromPath(e){return new W(Re.fromString(e))}static fromName(e){return new W(Re.fromString(e).popFirst(5))}static empty(){return new W(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new Re(e.slice()))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Sn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zf(t)?4:F0(t)?9007199254740991:10:ne()}function Rt(t,e){if(t===e)return!0;const n=Sn(t);if(n!==Sn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qs(t).isEqual(Qs(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=en(s.timestampValue),o=en(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Zn(s.bytesValue).isEqual(Zn(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Fe(s.geoPointValue.latitude)===Fe(r.geoPointValue.latitude)&&Fe(s.geoPointValue.longitude)===Fe(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Fe(s.integerValue)===Fe(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=Fe(s.doubleValue),o=Fe(r.doubleValue);return i===o?ri(i)===ri(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return Jn(t.arrayValue.values||[],e.arrayValue.values||[],Rt);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(zl(i)!==zl(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Rt(i[a],o[a])))return!1;return!0}(t,e);default:return ne()}}function Ys(t,e){return(t.values||[]).find(n=>Rt(n,e))!==void 0}function ts(t,e){if(t===e)return 0;const n=Sn(t),s=Sn(e);if(n!==s)return be(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=Fe(r.integerValue||r.doubleValue),a=Fe(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Wl(t.timestampValue,e.timestampValue);case 4:return Wl(Qs(t),Qs(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(r,i){const o=Zn(r),a=Zn(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=be(o[c],a[c]);if(l!==0)return l}return be(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=be(Fe(r.latitude),Fe(i.latitude));return o!==0?o:be(Fe(r.longitude),Fe(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=ts(o[c],a[c]);if(l)return l}return be(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){if(r===Ir.mapValue&&i===Ir.mapValue)return 0;if(r===Ir.mapValue)return 1;if(i===Ir.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),c=i.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const h=be(a[u],l[u]);if(h!==0)return h;const d=ts(o[a[u]],c[l[u]]);if(d!==0)return d}return be(a.length,l.length)}(t.mapValue,e.mapValue);default:throw ne()}}function Wl(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=en(t),s=en(e),r=be(n.seconds,s.seconds);return r!==0?r:be(n.nanos,s.nanos)}function qn(t){return ra(t)}function ra(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=en(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Zn(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,W.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=ra(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${ra(s.fields[a])}`;return i+"}"}(t.mapValue):ne();var e,n}function ia(t){return!!t&&"integerValue"in t}function hc(t){return!!t&&"arrayValue"in t}function Gl(t){return!!t&&"nullValue"in t}function Ql(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lr(t){return!!t&&"mapValue"in t}function Ms(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ps(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ms(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ms(t.arrayValue.values[n]);return e}return Object.assign({},t)}function F0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.value=e}static empty(){return new St({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Lr(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ms(n)}setAll(e){let n=dt.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=Ms(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Lr(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Lr(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){ps(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new St(Ms(this.value))}}function td(t){const e=[];return ps(t.fields,(n,s)=>{const r=new dt([n]);if(Lr(s)){const i=td(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new sa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n,s,r,i,o){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.data=i,this.documentState=o}static newInvalidDocument(e){return new Ze(e,0,he.min(),he.min(),St.empty(),0)}static newFoundDocument(e,n,s){return new Ze(e,1,n,he.min(),s,0)}static newNoDocument(e,n){return new Ze(e,2,n,he.min(),St.empty(),0)}static newUnknownDocument(e,n){return new Ze(e,3,n,he.min(),St.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=St.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=St.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function V0(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=he.fromTimestamp(s===1e9?new tt(n+1,0):new tt(n,s));return new In(r,W.empty(),e)}function B0(t){return new In(t.readTime,t.key,-1)}class In{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new In(he.min(),W.empty(),-1)}static max(){return new In(he.max(),W.empty(),-1)}}function U0(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||qe.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ar(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ar(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ar(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ar(this.root,e,this.comparator,!0)}}class Ar{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qe{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s!=null?s:qe.RED,this.left=r!=null?r:qe.EMPTY,this.right=i!=null?i:qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new qe(e!=null?e:this.key,n!=null?n:this.value,s!=null?s:this.color,r!=null?r:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return qe.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(t,e,n,s,r){return this}insert(t,e,n){return new qe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yl(this.data.getIterator())}getIteratorFrom(e){return new Yl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ye(this.comparator);return n.data=e,n}}class Yl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.P=null}}function Xl(t,e=null,n=[],s=[],r=null,i=null,o=null){return new j0(t,e,n,s,r,i,o)}function fc(t){const e=oe(t);if(e.P===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>{return(r=s).field.canonicalString()+r.op.toString()+qn(r.value);var r}).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Vi(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>qn(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>qn(s)).join(",")),e.P=n}return e.P}function H0(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${qn(s.value)}`;var s}).join(", ")}]`),Vi(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>qn(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>qn(n)).join(",")),`Target(${e})`}function dc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!X0(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(n=t.filters[r],s=e.filters[r],n.op!==s.op||!n.field.isEqual(s.field)||!Rt(n.value,s.value))return!1;var n,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zl(t.startAt,e.startAt)&&Zl(t.endAt,e.endAt)}function oa(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class pt extends class{}{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.V(e,n,s):new K0(e,n,s):n==="array-contains"?new W0(e,s):n==="in"?new G0(e,s):n==="not-in"?new Q0(e,s):n==="array-contains-any"?new Y0(e,s):new pt(e,n,s)}static V(e,n,s){return n==="in"?new q0(e,s):new z0(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.v(ts(n,this.value)):n!==null&&Sn(this.value)===Sn(n)&&this.v(ts(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class K0 extends pt{constructor(e,n,s){super(e,n,s),this.key=W.fromName(s.referenceValue)}matches(e){const n=W.comparator(e.key,this.key);return this.v(n)}}class q0 extends pt{constructor(e,n){super(e,"in",n),this.keys=nd("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class z0 extends pt{constructor(e,n){super(e,"not-in",n),this.keys=nd("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nd(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>W.fromName(s.referenceValue))}class W0 extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hc(n)&&Ys(n.arrayValue,this.value)}}class G0 extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ys(this.value.arrayValue,n)}}class Q0 extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ys(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ys(this.value.arrayValue,n)}}class Y0 extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ys(this.value.arrayValue,s))}}class ii{constructor(e,n){this.position=e,this.inclusive=n}}class Rs{constructor(e,n="asc"){this.field=e,this.dir=n}}function X0(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Jl(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=W.comparator(W.fromName(o.referenceValue),n.key):s=ts(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Zl(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.D=null,this.C=null,this.startAt,this.endAt}}function J0(t,e,n,s,r,i,o,a){return new Bi(t,e,n,s,r,i,o,a)}function pc(t){return new Bi(t)}function Z0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ew(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function tw(t){for(const e of t.filters)if(e.S())return e.field;return null}function nw(t){return t.collectionGroup!==null}function Xs(t){const e=oe(t);if(e.D===null){e.D=[];const n=tw(e),s=ew(e);if(n!==null&&s===null)n.isKeyField()||e.D.push(new Rs(n)),e.D.push(new Rs(dt.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e.D.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Rs(dt.keyField(),i))}}}return e.D}function An(t){const e=oe(t);if(!e.C)if(e.limitType==="F")e.C=Xl(e.path,e.collectionGroup,Xs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Xs(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new Rs(i.field,o))}const s=e.endAt?new ii(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ii(e.startAt.position,e.startAt.inclusive):null;e.C=Xl(e.path,e.collectionGroup,n,e.filters,e.limit,s,r)}return e.C}function sw(t,e,n){return new Bi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ui(t,e){return dc(An(t),An(e))&&t.limitType===e.limitType}function sd(t){return`${fc(An(t))}|lt:${t.limitType}`}function aa(t){return`Query(target=${H0(An(t))}; limitType=${t.limitType})`}function gc(t,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):W.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,s){for(const r of n.explicitOrderBy)if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=Jl(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,Xs(n),s)||n.endAt&&!function(r,i,o){const a=Jl(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,Xs(n),s))}(t,e)}function rw(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rd(t){return(e,n)=>{let s=!1;for(const r of Xs(t)){const i=iw(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function iw(t,e,n){const s=t.field.isKeyField()?W.comparator(e.key,n.key):function(r,i,o){const a=i.data.field(r),c=o.data.field(r);return a!==null&&c!==null?ts(a,c):ne()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ri(e)?"-0":e}}function od(t){return{integerValue:""+t}}function ow(t,e){return $0(e)?od(e):id(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this._=void 0}}function aw(t,e,n){return t instanceof oi?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,e):t instanceof Js?cd(t,e):t instanceof Zs?ld(t,e):function(s,r){const i=ad(s,r),o=eu(i)+eu(s.k);return ia(i)&&ia(s.k)?od(o):id(s.M,o)}(t,e)}function cw(t,e,n){return t instanceof Js?cd(t,e):t instanceof Zs?ld(t,e):n}function ad(t,e){return t instanceof ai?ia(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class oi extends ji{}class Js extends ji{constructor(e){super(),this.elements=e}}function cd(t,e){const n=ud(e);for(const s of t.elements)n.some(r=>Rt(r,s))||n.push(s);return{arrayValue:{values:n}}}class Zs extends ji{constructor(e){super(),this.elements=e}}function ld(t,e){let n=ud(e);for(const s of t.elements)n=n.filter(r=>!Rt(r,s));return{arrayValue:{values:n}}}class ai extends ji{constructor(e,n){super(),this.M=e,this.k=n}}function eu(t){return Fe(t.integerValue||t.doubleValue)}function ud(t){return hc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function lw(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Js&&s instanceof Js||n instanceof Zs&&s instanceof Zs?Jn(n.elements,s.elements,Rt):n instanceof ai&&s instanceof ai?Rt(n.k,s.k):n instanceof oi&&s instanceof oi}(t.transform,e.transform)}class uw{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $r(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hi{}function hw(t,e,n){t instanceof Ki?function(s,r,i){const o=s.value.clone(),a=su(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof hr?function(s,r,i){if(!$r(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=su(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(hd(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function ca(t,e,n){t instanceof Ki?function(s,r,i){if(!$r(s.precondition,r))return;const o=s.value.clone(),a=ru(s.fieldTransforms,i,r);o.setAll(a),r.convertToFoundDocument(nu(r),o).setHasLocalMutations()}(t,e,n):t instanceof hr?function(s,r,i){if(!$r(s.precondition,r))return;const o=ru(s.fieldTransforms,i,r),a=r.data;a.setAll(hd(s)),a.setAll(o),r.convertToFoundDocument(nu(r),a).setHasLocalMutations()}(t,e,n):function(s,r){$r(s.precondition,r)&&r.convertToNoDocument(he.min())}(t,e)}function fw(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=ad(s.transform,r||null);i!=null&&(n==null&&(n=St.empty()),n.set(s.field,i))}return n||null}function tu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Jn(n,s,(r,i)=>lw(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function nu(t){return t.isFoundDocument()?t.version:he.min()}class Ki extends Hi{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}}class hr extends Hi{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}}function hd(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function su(t,e,n){const s=new Map;xe(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,cw(o,a,n[r]))}return s}function ru(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,aw(i,o,e))}return s}class dw extends Hi{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class pw extends Hi{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,ge;function mw(t){switch(t){default:return ne();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}function fd(t){if(t===void 0)return Zt("GRPC error has no .code"),S.UNKNOWN;switch(t){case $e.OK:return S.OK;case $e.CANCELLED:return S.CANCELLED;case $e.UNKNOWN:return S.UNKNOWN;case $e.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case $e.INTERNAL:return S.INTERNAL;case $e.UNAVAILABLE:return S.UNAVAILABLE;case $e.UNAUTHENTICATED:return S.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case $e.NOT_FOUND:return S.NOT_FOUND;case $e.ALREADY_EXISTS:return S.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return S.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case $e.ABORTED:return S.ABORTED;case $e.OUT_OF_RANGE:return S.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return S.UNIMPLEMENTED;case $e.DATA_LOSS:return S.DATA_LOSS;default:return ne()}}(ge=$e||($e={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return Jf(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=new Ke(W.comparator);function xn(){return yw}const vw=new Ke(W.comparator);function la(...t){let e=vw;for(const n of t)e=e.insert(n.key,n);return e}function go(){return new gs(t=>t.toString(),(t,e)=>t.isEqual(e))}const ww=new Ke(W.comparator),Ew=new Ye(W.comparator);function Ne(...t){let e=Ew;for(const n of t)e=e.add(n);return e}const _w=new Ye(be);function dd(){return _w}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n){const s=new Map;return s.set(e,fr.createSynthesizedTargetChangeForCurrentChange(e,n)),new qi(he.min(),s,dd(),xn(),Ne())}}class fr{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n){return new fr(Xe.EMPTY_BYTE_STRING,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,s,r){this.O=e,this.removedTargetIds=n,this.key=s,this.F=r}}class pd{constructor(e,n){this.targetId=e,this.$=n}}class gd{constructor(e,n,s=Xe.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class iu{constructor(){this.B=0,this.L=au(),this.U=Xe.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return this.B!==0}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Ne(),n=Ne(),s=Ne();return this.L.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:ne()}}),new fr(this.U,this.q,e,n,s)}J(){this.K=!1,this.L=au()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class bw{constructor(e){this.nt=e,this.st=new Map,this.it=xn(),this.rt=ou(),this.ot=new Ye(be)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const s=this.lt(n);switch(e.state){case 0:this.ft(n)&&s.W(e.resumeToken);break;case 1:s.tt(),s.G||s.J(),s.W(e.resumeToken);break;case 2:s.tt(),s.G||this.removeTarget(n);break;case 3:this.ft(n)&&(s.et(),s.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),s.W(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((s,r)=>{this.ft(r)&&n(r)})}_t(e){const n=e.targetId,s=e.$.count,r=this.wt(n);if(r){const i=r.target;if(oa(i))if(s===0){const o=new W(i.path);this.ct(n,o,Ze.newNoDocument(o,he.min()))}else xe(s===1);else this.gt(n)!==s&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((i,o)=>{const a=this.wt(o);if(a){if(i.current&&oa(a.target)){const c=new W(a.target.path);this.it.get(c)!==null||this.It(o,c)||this.ct(o,c,Ze.newNoDocument(c,e))}i.j&&(n.set(o,i.H()),i.J())}});let s=Ne();this.rt.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.wt(c);return!l||l.purpose===2||(a=!1,!1)}),a&&(s=s.add(i))}),this.it.forEach((i,o)=>o.setReadTime(e));const r=new qi(e,n,this.ot,this.it,s);return this.it=xn(),this.rt=ou(),this.ot=new Ye(be),r}at(e,n){if(!this.ft(e))return;const s=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,s),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,s){if(!this.ft(e))return;const r=this.lt(e);this.It(e,n)?r.Y(n,1):r.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),s&&(this.it=this.it.insert(n,s))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new iu,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Ye(be),this.rt=this.rt.insert(e,n)),n}ft(e){const n=this.wt(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new iu),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function ou(){return new Ke(W.comparator)}function au(){return new Ke(W.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Cw=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class Sw{constructor(e,n){this.databaseId=e,this.N=n}}function ci(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function md(t,e){return t.N?e.toBase64():e.toUint8Array()}function Iw(t,e){return ci(t,e.toTimestamp())}function Ft(t){return xe(!!t),he.fromTimestamp(function(e){const n=en(e);return new tt(n.seconds,n.nanos)}(t))}function mc(t,e){return function(n){return new Re(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function yd(t){const e=Re.fromString(t);return xe(Ed(e)),e}function ua(t,e){return mc(t.databaseId,e.path)}function mo(t,e){const n=yd(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(vd(n))}function ha(t,e){return mc(t.databaseId,e)}function Aw(t){const e=yd(t);return e.length===4?Re.emptyPath():vd(e)}function fa(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vd(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function cu(t,e,n){return{name:ua(t,e),fields:n.value.mapValue.fields}}function xw(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(c,l){return c.N?(xe(l===void 0||typeof l=="string"),Xe.fromBase64String(l||"")):(xe(l===void 0||l instanceof Uint8Array),Xe.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=c.code===void 0?S.UNKNOWN:fd(c.code);return new Q(l,c.message||"")}(o);n=new gd(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=mo(t,s.document.name),i=Ft(s.document.updateTime),o=new St({mapValue:{fields:s.document.fields}}),a=Ze.newFoundDocument(r,i,o),c=s.targetIds||[],l=s.removedTargetIds||[];n=new Fr(c,l,a.key,a)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=mo(t,s.document),i=s.readTime?Ft(s.readTime):he.min(),o=Ze.newNoDocument(r,i),a=s.removedTargetIds||[];n=new Fr([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=mo(t,s.document),i=s.removedTargetIds||[];n=new Fr([],i,r,null)}else{if(!("filter"in e))return ne();{e.filter;const s=e.filter;s.targetId;const r=s.count||0,i=new gw(r),o=s.targetId;n=new pd(o,i)}}return n}function Dw(t,e){let n;if(e instanceof Ki)n={update:cu(t,e.key,e.value)};else if(e instanceof dw)n={delete:ua(t,e.key)};else if(e instanceof hr)n={update:cu(t,e.key,e.data),updateMask:Vw(e.fieldMask)};else{if(!(e instanceof pw))return ne();n={verify:ua(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof oi)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Js)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Zs)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ai)return{fieldPath:i.field.canonicalString(),increment:o.k};throw ne()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:Iw(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ne()}(t,e.precondition)),n}function Nw(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(s,r){let i=s.updateTime?Ft(s.updateTime):Ft(r);return i.isEqual(he.min())&&(i=Ft(r)),new uw(i,s.transformResults||[])}(n,e))):[]}function kw(t,e){return{documents:[ha(t,e.path)]}}function Mw(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=ha(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ha(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const r=function(c){if(c.length===0)return;const l=c.map(u=>function(h){if(h.op==="=="){if(Ql(h.value))return{unaryFilter:{field:Rn(h.field),op:"IS_NAN"}};if(Gl(h.value))return{unaryFilter:{field:Rn(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(Ql(h.value))return{unaryFilter:{field:Rn(h.field),op:"IS_NOT_NAN"}};if(Gl(h.value))return{unaryFilter:{field:Rn(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rn(h.field),op:Lw(h.op),value:h.value}}}(u));return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);r&&(n.structuredQuery.where=r);const i=function(c){if(c.length!==0)return c.map(l=>function(u){return{field:Rn(u.field),direction:Pw(u.dir)}}(l))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(c,l){return c.N||Vi(l)?l:{value:l}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function Rw(t){let e=Aw(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){xe(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=wd(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new Rs(Bn(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,Vi(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(u){const h=!!u.before,d=u.values||[];return new ii(d,h)}(n.startAt));let l=null;return n.endAt&&(l=function(u){const h=!u.before,d=u.values||[];return new ii(d,h)}(n.endAt)),J0(e,r,o,i,a,"F",c,l)}function Ow(t,e){const n=function(s,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ne()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function wd(t){return t?t.unaryFilter!==void 0?[Fw(t)]:t.fieldFilter!==void 0?[$w(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>wd(e)).reduce((e,n)=>e.concat(n)):ne():[]}function Pw(t){return Tw[t]}function Lw(t){return Cw[t]}function Rn(t){return{fieldPath:t.canonicalString()}}function Bn(t){return dt.fromServerFormat(t.fieldPath)}function $w(t){return pt.create(Bn(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(t.fieldFilter.op),t.fieldFilter.value)}function Fw(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Bn(t.unaryFilter.field);return pt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Bn(t.unaryFilter.field);return pt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Bn(t.unaryFilter.field);return pt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Bn(t.unaryFilter.field);return pt.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}function Vw(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ed(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Uw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new D((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):D.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):D.reject(n)}static resolve(e){return new D((n,s)=>{n(e)})}static reject(e){return new D((n,s)=>{s(e)})}static waitFor(e){return new D((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},c=>s(c))}),o=!0,i===r&&n()})}static or(e){let n=D.resolve(!1);for(const s of e)n=n.next(r=>r?D.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}}function dr(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&hw(i,e,s[r])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&ca(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&ca(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const s=e.get(n.key),r=s;this.applyToLocalView(r),s.isValidDocument()||r.convertToNoDocument(he.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Jn(this.mutations,e.mutations,(n,s)=>tu(n,s))&&Jn(this.baseMutations,e.baseMutations,(n,s)=>tu(n,s))}}class yc{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){xe(e.mutations.length===s.length);let r=ww;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new yc(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n,s,r,i=he.min(),o=he.min(),a=Xe.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new wn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new wn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new wn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this.Jt=e}}function qw(t){const e=Rw({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.qe=new Ww}addToCollectionParentIndex(e,n){return this.qe.add(n),D.resolve()}getCollectionParents(e,n){return D.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return D.resolve()}deleteFieldIndex(e,n){return D.resolve()}getDocumentsMatchingTarget(e,n){return D.resolve(null)}getIndexType(e,n){return D.resolve(0)}getFieldIndexes(e,n){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}getMinOffset(e,n){return D.resolve(In.min())}updateCollectionGroup(e,n,s){return D.resolve()}updateIndexEntries(e,n){return D.resolve()}}class Ww{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new Ye(Re.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new Ye(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new ns(0)}static yn(){return new ns(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pr(t){if(t.code!==S.FAILED_PRECONDITION||t.message!==Bw)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.changes=new gs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?D.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,s){this.ds=e,this.Bs=n,this.indexManager=s}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(s=>this.Us(e,n,s))}Us(e,n,s){return this.ds.getEntry(e,n).next(r=>{for(const i of s)i.applyToLocalView(r);return r})}qs(e,n){e.forEach((s,r)=>{for(const i of n)i.applyToLocalView(r)})}Ks(e,n){return this.ds.getEntries(e,n).next(s=>this.Gs(e,s).next(()=>s))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>this.qs(n,s))}Qs(e,n,s){return function(r){return W.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.js(e,n.path):nw(n)?this.Ws(e,n,s):this.zs(e,n,s)}js(e,n){return this.Ls(e,new W(n)).next(s=>{let r=la();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}Ws(e,n,s){const r=n.collectionGroup;let i=la();return this.indexManager.getCollectionParents(e,r).next(o=>D.forEach(o,a=>{const c=function(l,u){return new Bi(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(r));return this.zs(e,c,s).next(l=>{l.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}zs(e,n,s){let r;return this.ds.getAllFromCollection(e,n.path,s).next(i=>(r=i,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(i=>{for(const o of i)for(const a of o.mutations){const c=a.key;let l=r.get(c);l==null&&(l=Ze.newInvalidDocument(c),r=r.insert(c,l)),ca(a,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}).next(()=>(r.forEach((i,o)=>{gc(n,o)||(r=r.remove(i))}),r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Hs=s,this.Js=r}static Ys(e,n){let s=Ne(),r=Ne();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new vc(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.Xs=!1}initialize(e,n){this.Zs=e,this.indexManager=n,this.Xs=!0}Qs(e,n,s,r){return this.ti(e,n).next(i=>i||this.ei(e,n,r,s)).next(i=>i||this.ni(e,n))}ti(e,n){return D.resolve(null)}ei(e,n,s,r){return Z0(n)||r.isEqual(he.min())?this.ni(e,n):this.Zs.Ks(e,s).next(i=>{const o=this.si(n,i);return this.ii(n,o,s,r)?this.ni(e,n):(Kl()<=_e.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),aa(n)),this.ri(e,o,n,V0(r,-1)))})}si(e,n){let s=new Ye(rd(e));return n.forEach((r,i)=>{gc(e,i)&&(s=s.add(i))}),s}ii(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ni(e,n){return Kl()<=_e.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",aa(n)),this.Zs.Qs(e,n,In.min())}ri(e,n,s,r){return this.Zs.Qs(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n,s,r){this.persistence=e,this.oi=n,this.M=r,this.ui=new Ke(be),this.ai=new gs(i=>fc(i),dc),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(s)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Qw(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ui))}}function Jw(t,e,n,s){return new Xw(t,e,n,s)}async function _d(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.Bs.getAllMutationBatches(s).next(i=>(r=i,n.li(e),n.Bs.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let c=Ne();for(const l of r){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.fi.Ks(s,c).next(l=>({di:l,removedBatchIds:o,addedBatchIds:a}))})})}function Zw(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,l){const u=c.batch,h=u.keys();let d=D.resolve();return h.forEach(g=>{d=d.next(()=>l.getEntry(a,g)).next(y=>{const C=c.docVersions.get(g);xe(C!==null),y.version.compareTo(C)<0&&(u.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),l.addEntry(y)))})}),d.next(()=>o.Bs.removeMutationBatch(a,u))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.Bs.performConsistencyCheck(s)).next(()=>n.fi.Ks(s,r))})}function bd(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function e1(t,e){const n=oe(t),s=e.snapshotVersion;let r=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.hi.newChangeBuffer({trackRemovals:!0});r=n.ui;const a=[];e.targetChanges.forEach((l,u)=>{const h=r.get(u);if(!h)return;a.push(n.fs.removeMatchingKeys(i,l.removedDocuments,u).next(()=>n.fs.addMatchingKeys(i,l.addedDocuments,u)));let d=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.has(u)?d=d.withResumeToken(Xe.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):l.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(l.resumeToken,s)),r=r.insert(u,d),function(g,y,C){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(h,d,l)&&a.push(n.fs.updateTargetData(i,d))});let c=xn();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,l))}),a.push(t1(i,o,e.documentUpdates).next(l=>{c=l})),!s.isEqual(he.min())){const l=n.fs.getLastRemoteSnapshotVersion(i).next(u=>n.fs.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(l)}return D.waitFor(a).next(()=>o.apply(i)).next(()=>n.fi.Gs(i,c)).next(()=>c)}).then(i=>(n.ui=r,i))}function t1(t,e,n){let s=Ne();return n.forEach(r=>s=s.add(r)),e.getEntries(t,s).next(r=>{let i=xn();return n.forEach((o,a)=>{const c=r.get(o);a.isNoDocument()&&a.version.isEqual(he.min())?(e.removeEntry(o,a.readTime),i=i.insert(o,a)):!c.isValidDocument()||a.version.compareTo(c.version)>0||a.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(a),i=i.insert(o,a)):H("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",a.version)}),i})}function n1(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(s,e)))}function s1(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.fs.getTargetData(s,e).next(i=>i?(r=i,D.resolve(r)):n.fs.allocateTargetId(s).next(o=>(r=new wn(e,o,0,s.currentSequenceNumber),n.fs.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.ui.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(s.targetId,s),n.ai.set(e,s.targetId)),s})}async function da(t,e,n){const s=oe(t),r=s.ui.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!dr(o))throw o;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.ui=s.ui.remove(e),s.ai.delete(r.target)}function lu(t,e,n){const s=oe(t);let r=he.min(),i=Ne();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,c,l){const u=oe(a),h=u.ai.get(l);return h!==void 0?D.resolve(u.ui.get(h)):u.fs.getTargetData(c,l)}(s,o,An(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.fs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>s.oi.Qs(o,e,n?r:he.min(),n?i:Ne())).next(a=>(r1(s,rw(e),a),{documents:a,_i:i})))}function r1(t,e,n){let s=he.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.ci.set(e,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,n){return D.resolve(this.yi.get(n))}saveBundleMetadata(e,n){var s;return this.yi.set(n.id,{id:(s=n).id,version:s.version,createTime:Ft(s.createTime)}),D.resolve()}getNamedQuery(e,n){return D.resolve(this.pi.get(n))}saveNamedQuery(e,n){return this.pi.set(n.name,function(s){return{name:s.name,query:qw(s.bundledQuery),readTime:Ft(s.readTime)}}(n)),D.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.overlays=new Ke(W.comparator),this.Ii=new Map}getOverlay(e,n){return D.resolve(this.overlays.get(n))}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.Xt(e,n,i)}),D.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.Ii.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ii.delete(s)),D.resolve()}getOverlaysForCollection(e,n,s){const r=go(),i=n.length+1,o=new W(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return D.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new Ke((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>s){let u=i.get(l.largestBatchId);u===null&&(u=go(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=go(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return D.resolve(a)}Xt(e,n,s){if(s===null)return;const r=this.overlays.get(s.key);if(r!==null){const o=this.Ii.get(r.largestBatchId).delete(s.key);this.Ii.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new Hw(n,s));let i=this.Ii.get(n);i===void 0&&(i=Ne(),this.Ii.set(n,i)),this.Ii.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this.Ti=new Ye(Ue.Ei),this.Ai=new Ye(Ue.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,n){const s=new Ue(e,n);this.Ti=this.Ti.add(s),this.Ai=this.Ai.add(s)}bi(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Pi(new Ue(e,n))}Vi(e,n){e.forEach(s=>this.removeReference(s,n))}vi(e){const n=new W(new Re([])),s=new Ue(n,e),r=new Ue(n,e+1),i=[];return this.Ai.forEachInRange([s,r],o=>{this.Pi(o),i.push(o.key)}),i}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const n=new W(new Re([])),s=new Ue(n,e),r=new Ue(n,e+1);let i=Ne();return this.Ai.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ue(e,0),s=this.Ti.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ue{constructor(e,n){this.key=e,this.Ci=n}static Ei(e,n){return W.comparator(e.key,n.key)||be(e.Ci,n.Ci)}static Ri(e,n){return be(e.Ci,n.Ci)||W.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Ye(Ue.Ei)}checkEmpty(e){return D.resolve(this.Bs.length===0)}addMutationBatch(e,n,s,r){const i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];const o=new jw(i,n,s,r);this.Bs.push(o);for(const a of r)this.Ni=this.Ni.add(new Ue(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return D.resolve(o)}lookupMutationBatch(e,n){return D.resolve(this.ki(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.Mi(s),i=r<0?0:r;return D.resolve(this.Bs.length>i?this.Bs[i]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.Bs.length===0?-1:this.xi-1)}getAllMutationBatches(e){return D.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ue(n,0),r=new Ue(n,Number.POSITIVE_INFINITY),i=[];return this.Ni.forEachInRange([s,r],o=>{const a=this.ki(o.Ci);i.push(a)}),D.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ye(be);return n.forEach(r=>{const i=new Ue(r,0),o=new Ue(r,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([i,o],a=>{s=s.add(a.Ci)})}),D.resolve(this.Oi(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;W.isDocumentKey(i)||(i=i.child(""));const o=new Ue(new W(i),0);let a=new Ye(be);return this.Ni.forEachWhile(c=>{const l=c.key.path;return!!s.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.Ci)),!0)},o),D.resolve(this.Oi(a))}Oi(e){const n=[];return e.forEach(s=>{const r=this.ki(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){xe(this.Fi(n.batchId,"removed")===0),this.Bs.shift();let s=this.Ni;return D.forEach(n.mutations,r=>{const i=new Ue(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Ni=s})}_n(e){}containsKey(e,n){const s=new Ue(n,0),r=this.Ni.firstAfterOrEqual(s);return D.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.Bs.length,D.resolve()}Fi(e,n){return this.Mi(e)}Mi(e){return this.Bs.length===0?0:e-this.Bs[0].batchId}ki(e){const n=this.Mi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.$i=e,this.docs=new Ke(W.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.$i(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return D.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(n))}getEntries(e,n){let s=xn();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():Ze.newInvalidDocument(r))}),D.resolve(s)}getAllFromCollection(e,n,s){let r=xn();const i=new W(n.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:a,value:{document:c}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||U0(B0(c),s)<=0||(r=r.insert(c.key,c.mutableCopy()))}return D.resolve(r)}getAllFromCollectionGroup(e,n,s,r){ne()}Bi(e,n){return D.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new l1(this)}getSize(e){return D.resolve(this.size)}}class l1 extends Gw{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Kn.addEntry(e,r)):this.Kn.removeEntry(s)}),D.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.persistence=e,this.Li=new gs(n=>fc(n),dc),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Ui=0,this.qi=new wc,this.targetCount=0,this.Ki=ns.gn()}forEachTarget(e,n){return this.Li.forEach((s,r)=>n(r)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ui&&(this.Ui=n),D.resolve()}Tn(e){this.Li.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ki=new ns(n),this.highestTargetId=n),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,D.resolve()}updateTargetData(e,n){return this.Tn(n),D.resolve()}removeTargetData(e,n){return this.Li.delete(n.target),this.qi.vi(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.Li.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.Li.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),D.waitFor(i).next(()=>r)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,n){const s=this.Li.get(n)||null;return D.resolve(s)}addMatchingKeys(e,n,s){return this.qi.bi(n,s),D.resolve()}removeMatchingKeys(e,n,s){this.qi.Vi(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),D.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.qi.vi(n),D.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qi.Di(n);return D.resolve(s)}containsKey(e,n){return D.resolve(this.qi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n){this.Gi={},this.overlays={},this.es=new uc(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new u1(this),this.indexManager=new zw,this.ds=function(s){return new c1(s)}(s=>this.referenceDelegate.Qi(s)),this.M=new Kw(n),this._s=new i1(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new o1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Gi[e.toKey()];return s||(s=new a1(n,this.referenceDelegate),this.Gi[e.toKey()]=s),s}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,s){H("MemoryPersistence","Starting transaction:",e);const r=new f1(this.es.next());return this.referenceDelegate.ji(),s(r).next(i=>this.referenceDelegate.Wi(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}zi(e,n){return D.or(Object.values(this.Gi).map(s=>()=>s.containsKey(e,n)))}}class f1 extends Uw{constructor(e){super(),this.currentSequenceNumber=e}}class Ec{constructor(e){this.persistence=e,this.Hi=new wc,this.Ji=null}static Yi(e){return new Ec(e)}get Xi(){if(this.Ji)return this.Ji;throw ne()}addReference(e,n,s){return this.Hi.addReference(s,n),this.Xi.delete(s.toString()),D.resolve()}removeReference(e,n,s){return this.Hi.removeReference(s,n),this.Xi.add(s.toString()),D.resolve()}markPotentiallyOrphaned(e,n){return this.Xi.add(n.toString()),D.resolve()}removeTarget(e,n){this.Hi.vi(n.targetId).forEach(r=>this.Xi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.Xi.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}ji(){this.Ji=new Set}Wi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Xi,s=>{const r=W.fromPath(s);return this.Zi(e,r).next(i=>{i||n.removeEntry(r,he.min())})}).next(()=>(this.Ji=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zi(e,n).next(s=>{s?this.Xi.delete(n.toString()):this.Xi.add(n.toString())})}Qi(e){return 0}Zi(e,n){return D.or([()=>D.resolve(this.Hi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zi(e,n)])}}class uu{constructor(){this.activeTargetIds=dd()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d1{constructor(){this.Ur=new uu,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,n,s){this.qr[e]=n}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new uu,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{Kr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.uo=n+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,s,r,i){const o=this.ho(e,n);H("RestConnection","Sending: ",o,s);const a={};return this.lo(a,r,i),this.fo(e,o,a,s).then(c=>(H("RestConnection","Received: ",c),c),c=>{throw ql("RestConnection",`${e} failed with error: `,c,"url: ",o,"request:",s),c})}_o(e,n,s,r,i){return this.co(e,n,s,r,i)}lo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+ds,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}ho(e,n){const s=g1[e];return`${this.uo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,s,r){return new Promise((i,o)=>{const a=new S0;a.listenOnce(b0.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case po.NO_ERROR:const l=a.getResponseJson();H("Connection","XHR received:",JSON.stringify(l)),i(l);break;case po.TIMEOUT:H("Connection",'RPC "'+e+'" timed out'),o(new Q(S.DEADLINE_EXCEEDED,"Request time out"));break;case po.HTTP_ERROR:const u=a.getStatus();if(H("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const d=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(y)>=0?y:S.UNKNOWN}(h.status);o(new Q(d,h.message))}else o(new Q(S.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Q(S.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{H("Connection",'RPC "'+e+'" completed.')}});const c=JSON.stringify(r);a.send(n,"POST",c,s,15)})}wo(e,n,s){const r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=E0(),o=_0(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new C0({})),this.lo(a.initMessageHeaders,n,s),Zm()||ty()||ny()||sy()||ry()||ey()||(a.httpHeadersOverwriteParam="$httpHeaders");const c=r.join("");H("Connection","Creating WebChannel: "+c,a);const l=i.createWebChannel(c,a);let u=!1,h=!1;const d=new m1({Jr:y=>{h?H("Connection","Not sending because WebChannel is closed:",y):(u||(H("Connection","Opening WebChannel transport."),l.open(),u=!0),H("Connection","WebChannel sending:",y),l.send(y))},Yr:()=>l.close()}),g=(y,C,I)=>{y.listen(C,M=>{try{I(M)}catch(j){setTimeout(()=>{throw j},0)}})};return g(l,Sr.EventType.OPEN,()=>{h||H("Connection","WebChannel transport opened.")}),g(l,Sr.EventType.CLOSE,()=>{h||(h=!0,H("Connection","WebChannel transport closed"),d.ro())}),g(l,Sr.EventType.ERROR,y=>{h||(h=!0,ql("Connection","WebChannel transport errored:",y),d.ro(new Q(S.UNAVAILABLE,"The operation could not be completed")))}),g(l,Sr.EventType.MESSAGE,y=>{var C;if(!h){const I=y.data[0];xe(!!I);const M=I,j=M.error||((C=M[0])===null||C===void 0?void 0:C.error);if(j){H("Connection","WebChannel received error:",j);const Z=j.status;let Y=function(pe){const ee=$e[pe];if(ee!==void 0)return fd(ee)}(Z),ue=j.message;Y===void 0&&(Y=S.INTERNAL,ue="Unknown error status: "+Z+" with message "+j.message),h=!0,d.ro(new Q(Y,ue)),l.close()}else H("Connection","WebChannel received:",I),d.oo(I)}}),g(o,T0.STAT_EVENT,y=>{y.stat===jl.PROXY?H("Connection","Detected buffering proxy"):y.stat===jl.NOPROXY&&H("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.io()},0),d}}function yo(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t){return new Sw(t,!0)}class Td{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Yn=e,this.timerId=n,this.mo=s,this.yo=r,this.po=i,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),s=Math.max(0,Date.now()-this.Eo),r=Math.max(0,n-s);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,s,r,i,o,a,c){this.Yn=e,this.Vo=s,this.vo=r,this.So=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Td(e,n)}ko(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.ko()&&await this.close(0)}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&this.Co===null&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}async Bo(){if(this.Mo())return this.close(0)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}async close(e,n){this.Uo(),this.qo(),this.No.cancel(),this.Do++,e!==4?this.No.reset():n&&n.code===S.RESOURCE_EXHAUSTED?(Zt(n.toString()),Zt("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===S.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Ko(),this.stream.close(),this.stream=null),this.state=e,await this.listener.eo(n)}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.Do===n&&this.Qo(s,r)},s=>{e(()=>{const r=new Q(S.UNKNOWN,"Fetching auth token failed: "+s.message);return this.jo(r)})})}Qo(e,n){const s=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Xr(()=>{s(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(r=>{s(()=>this.jo(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}Oo(){this.state=5,this.No.Ro(async()=>{this.state=0,this.start()})}jo(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Yn.enqueueAndForget(()=>this.Do===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class v1 extends Cd{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.M=i}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=xw(this.M,e),s=function(r){if(!("targetChange"in r))return he.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?he.min():i.readTime?Ft(i.readTime):he.min()}(e);return this.listener.zo(n,s)}Ho(e){const n={};n.database=fa(this.M),n.addTarget=function(r,i){let o;const a=i.target;return o=oa(a)?{documents:kw(r,a)}:{query:Mw(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?o.resumeToken=md(r,i.resumeToken):i.snapshotVersion.compareTo(he.min())>0&&(o.readTime=ci(r,i.snapshotVersion.toTimestamp())),o}(this.M,e);const s=Ow(this.M,e);s&&(n.labels=s),this.Lo(n)}Jo(e){const n={};n.database=fa(this.M),n.removeTarget=e,this.Lo(n)}}class w1 extends Cd{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.M=i,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=Nw(e.writeResults,e.commitTime),s=Ft(e.commitTime);return this.listener.tu(s,n)}return xe(!e.writeResults||e.writeResults.length===0),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=fa(this.M),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Dw(this.M,s))};this.Lo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1 extends class{}{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=s,this.M=r,this.su=!1}iu(){if(this.su)throw new Q(S.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,s){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.So.co(e,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Q(S.UNKNOWN,r.toString())})}_o(e,n,s){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.So._o(e,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Q(S.UNKNOWN,r.toString())})}terminate(){this.su=!0}}class _1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){this.ru===0&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){this.state==="Online"?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,e==="Online"&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Zt(n),this.uu=!1):H("OnlineStateTracker",n)}fu(){this.ou!==null&&(this.ou.cancel(),this.ou=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=i,this.gu.Kr(o=>{s.enqueueAndForget(async()=>{kn(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=oe(a);c.wu.add(4),await gr(c),c.yu.set("Unknown"),c.wu.delete(4),await Wi(c)}(this))})}),this.yu=new _1(s,r)}}async function Wi(t){if(kn(t))for(const e of t.mu)await e(!0)}async function gr(t){for(const e of t.mu)await e(!1)}function Sd(t,e){const n=oe(t);n._u.has(e.targetId)||(n._u.set(e.targetId,e),Tc(n)?bc(n):ms(n).Mo()&&_c(n,e))}function Id(t,e){const n=oe(t),s=ms(n);n._u.delete(e),s.Mo()&&Ad(n,e),n._u.size===0&&(s.Mo()?s.$o():kn(n)&&n.yu.set("Unknown"))}function _c(t,e){t.pu.Z(e.targetId),ms(t).Ho(e)}function Ad(t,e){t.pu.Z(e),ms(t).Jo(e)}function bc(t){t.pu=new bw({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t._u.get(e)||null}),ms(t).start(),t.yu.au()}function Tc(t){return kn(t)&&!ms(t).ko()&&t._u.size>0}function kn(t){return oe(t).wu.size===0}function xd(t){t.pu=void 0}async function T1(t){t._u.forEach((e,n)=>{_c(t,e)})}async function C1(t,e){xd(t),Tc(t)?(t.yu.lu(e),bc(t)):t.yu.set("Unknown")}async function S1(t,e,n){if(t.yu.set("Online"),e instanceof gd&&e.state===2&&e.cause)try{await async function(s,r){const i=r.cause;for(const o of r.targetIds)s._u.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s._u.delete(o),s.pu.removeTarget(o))}(t,e)}catch(s){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await li(t,s)}else if(e instanceof Fr?t.pu.ut(e):e instanceof pd?t.pu._t(e):t.pu.ht(e),!n.isEqual(he.min()))try{const s=await bd(t.localStore);n.compareTo(s)>=0&&await function(r,i){const o=r.pu.yt(i);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=r._u.get(c);l&&r._u.set(c,l.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach(a=>{const c=r._u.get(a);if(!c)return;r._u.set(a,c.withResumeToken(Xe.EMPTY_BYTE_STRING,c.snapshotVersion)),Ad(r,a);const l=new wn(c.target,a,1,c.sequenceNumber);_c(r,l)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){H("RemoteStore","Failed to raise snapshot:",s),await li(t,s)}}async function li(t,e,n){if(!dr(e))throw e;t.wu.add(1),await gr(t),t.yu.set("Offline"),n||(n=()=>bd(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t.wu.delete(1),await Wi(t)})}function Dd(t,e){return e().catch(n=>li(t,n,e))}async function Gi(t){const e=oe(t),n=tn(e);let s=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;I1(e);)try{const r=await n1(e.localStore,s);if(r===null){e.du.length===0&&n.$o();break}s=r.batchId,A1(e,r)}catch(r){await li(e,r)}Nd(e)&&kd(e)}function I1(t){return kn(t)&&t.du.length<10}function A1(t,e){t.du.push(e);const n=tn(t);n.Mo()&&n.Xo&&n.Zo(e.mutations)}function Nd(t){return kn(t)&&!tn(t).ko()&&t.du.length>0}function kd(t){tn(t).start()}async function x1(t){tn(t).nu()}async function D1(t){const e=tn(t);for(const n of t.du)e.Zo(n.mutations)}async function N1(t,e,n){const s=t.du.shift(),r=yc.from(s,e,n);await Dd(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Gi(t)}async function k1(t,e){e&&tn(t).Xo&&await async function(n,s){if(r=s.code,mw(r)&&r!==S.ABORTED){const i=n.du.shift();tn(n).Fo(),await Dd(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Gi(n)}var r}(t,e),Nd(t)&&kd(t)}async function fu(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const s=kn(n);n.wu.add(3),await gr(n),s&&n.yu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),await Wi(n)}async function M1(t,e){const n=oe(t);e?(n.wu.delete(2),await Wi(n)):e||(n.wu.add(2),await gr(n),n.yu.set("Unknown"))}function ms(t){return t.Iu||(t.Iu=function(e,n,s){const r=oe(e);return r.iu(),new v1(n,r.So,r.authCredentials,r.appCheckCredentials,r.M,s)}(t.datastore,t.asyncQueue,{Xr:T1.bind(null,t),eo:C1.bind(null,t),zo:S1.bind(null,t)}),t.mu.push(async e=>{e?(t.Iu.Fo(),Tc(t)?bc(t):t.yu.set("Unknown")):(await t.Iu.stop(),xd(t))})),t.Iu}function tn(t){return t.Tu||(t.Tu=function(e,n,s){const r=oe(e);return r.iu(),new w1(n,r.So,r.authCredentials,r.appCheckCredentials,r.M,s)}(t.datastore,t.asyncQueue,{Xr:x1.bind(null,t),eo:k1.bind(null,t),eu:D1.bind(null,t),tu:N1.bind(null,t)}),t.mu.push(async e=>{e?(t.Tu.Fo(),await Gi(t)):(await t.Tu.stop(),t.du.length>0&&(H("RemoteStore",`Stopping write stream with ${t.du.length} pending writes`),t.du=[]))})),t.Tu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new Cc(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sc(t,e){if(Zt("AsyncQueue",`${e}: ${t}`),dr(t))return new Q(S.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.comparator=e?(n,s)=>e(n,s)||W.comparator(n.key,s.key):(n,s)=>W.comparator(n.key,s.key),this.keyedMap=la(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new Wn(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Wn;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.Eu=new Ke(W.comparator)}track(e){const n=e.doc.key,s=this.Eu.get(n);s?e.type!==0&&s.type===3?this.Eu=this.Eu.insert(n,e):e.type===3&&s.type!==1?this.Eu=this.Eu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Eu=this.Eu.remove(n):e.type===1&&s.type===2?this.Eu=this.Eu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):ne():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,s)=>{e.push(s)}),e}}class ss{constructor(e,n,s,r,i,o,a,c){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c}static fromInitialDocuments(e,n,s,r){const i=[];return n.forEach(o=>{i.push({type:0,doc:o})}),new ss(e,n,Wn.emptySet(n),i,s,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ui(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.Ru=void 0,this.listeners=[]}}class O1{constructor(){this.queries=new gs(e=>sd(e),Ui),this.onlineState="Unknown",this.bu=new Set}}async function P1(t,e){const n=oe(t),s=e.query;let r=!1,i=n.queries.get(s);if(i||(r=!0,i=new R1),r)try{i.Ru=await n.onListen(s)}catch(o){const a=Sc(o,`Initialization of query '${aa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.listeners.push(e),e.Pu(n.onlineState),i.Ru&&e.Vu(i.Ru)&&Ic(n)}async function L1(t,e){const n=oe(t),s=e.query;let r=!1;const i=n.queries.get(s);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return n.queries.delete(s),n.onUnlisten(s)}function $1(t,e){const n=oe(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.Vu(r)&&(s=!0);o.Ru=r}}s&&Ic(n)}function F1(t,e,n){const s=oe(t),r=s.queries.get(e);if(r)for(const i of r.listeners)i.onError(n);s.queries.delete(e)}function Ic(t){t.bu.forEach(e=>{e.next()})}class V1{constructor(e,n,s){this.query=e,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=s||{}}Vu(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new ss(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.ku||!s)&&(!e.docs.isEmpty()||n==="Offline")}Cu(e){if(e.docChanges.length>0)return!0;const n=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Nu(e){e=ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.key=e}}class Rd{constructor(e){this.key=e}}class B1{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.current=!1,this.Ku=Ne(),this.mutatedKeys=Ne(),this.Gu=rd(e),this.Qu=new Wn(this.Gu)}get ju(){return this.Uu}Wu(e,n){const s=n?n.zu:new du,r=n?n.Qu:this.Qu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const d=r.get(u),g=gc(this.query,h)?h:null,y=!!d&&this.mutatedKeys.has(d.key),C=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;d&&g?d.data.isEqual(g.data)?y!==C&&(s.track({type:3,doc:g}),I=!0):this.Hu(d,g)||(s.track({type:2,doc:g}),I=!0,(c&&this.Gu(g,c)>0||l&&this.Gu(g,l)<0)&&(a=!0)):!d&&g?(s.track({type:0,doc:g}),I=!0):d&&!g&&(s.track({type:1,doc:d}),I=!0,(c||l)&&(a=!0)),I&&(g?(o=o.add(g),i=C?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),s.track({type:1,doc:u})}return{Qu:o,zu:s,ii:a,mutatedKeys:i}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const i=e.zu.Au();i.sort((l,u)=>function(h,d){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return g(h)-g(d)}(l.type,u.type)||this.Gu(l.doc,u.doc)),this.Ju(s);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,c=a!==this.qu;return this.qu=a,i.length!==0||c?{snapshot:new ss(this.query,e.Qu,r,i,e.mutatedKeys,a===0,c,!1),Xu:o}:{Xu:o}}Pu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new du,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Ne(),this.Qu.forEach(s=>{this.Zu(s.key)&&(this.Ku=this.Ku.add(s.key))});const n=[];return e.forEach(s=>{this.Ku.has(s)||n.push(new Rd(s))}),this.Ku.forEach(s=>{e.has(s)||n.push(new Md(s))}),n}ta(e){this.Uu=e._i,this.Ku=Ne();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ea(){return ss.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.qu===0)}}class U1{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class j1{constructor(e){this.key=e,this.na=!1}}class H1{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new gs(a=>sd(a),Ui),this.ra=new Map,this.oa=new Set,this.ua=new Ke(W.comparator),this.aa=new Map,this.ca=new wc,this.ha={},this.la=new Map,this.fa=ns.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return this.da===!0}}async function K1(t,e){const n=eE(t);let s,r;const i=n.ia.get(e);if(i)s=i.targetId,n.sharedClientState.addLocalQueryTarget(s),r=i.view.ea();else{const o=await s1(n.localStore,An(e));n.isPrimaryClient&&Sd(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,r=await q1(n,e,s,a==="current")}return r}async function q1(t,e,n,s){t._a=(u,h,d)=>async function(g,y,C,I){let M=y.view.Wu(C);M.ii&&(M=await lu(g.localStore,y.query,!1).then(({documents:Y})=>y.view.Wu(Y,M)));const j=I&&I.targetChanges.get(y.targetId),Z=y.view.applyChanges(M,g.isPrimaryClient,j);return gu(g,y.targetId,Z.Xu),Z.snapshot}(t,u,h,d);const r=await lu(t.localStore,e,!0),i=new B1(e,r._i),o=i.Wu(r.documents),a=fr.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline"),c=i.applyChanges(o,t.isPrimaryClient,a);gu(t,n,c.Xu);const l=new U1(e,n,i);return t.ia.set(e,l),t.ra.has(n)?t.ra.get(n).push(e):t.ra.set(n,[e]),c.snapshot}async function z1(t,e){const n=oe(t),s=n.ia.get(e),r=n.ra.get(s.targetId);if(r.length>1)return n.ra.set(s.targetId,r.filter(i=>!Ui(i,e))),void n.ia.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await da(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Id(n.remoteStore,s.targetId),pa(n,s.targetId)}).catch(pr)):(pa(n,s.targetId),await da(n.localStore,s.targetId,!0))}async function W1(t,e,n){const s=tE(t);try{const r=await function(i,o){const a=oe(i),c=tt.now(),l=o.reduce((h,d)=>h.add(d.key),Ne());let u;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>a.fi.Ks(h,l).next(d=>{u=d;const g=[];for(const y of o){const C=fw(y,u.get(y.key));C!=null&&g.push(new hr(y.key,C,td(C.value.mapValue),zn.exists(!0)))}return a.Bs.addMutationBatch(h,c,g,o)})).then(h=>(h.applyToLocalDocumentSet(u),{batchId:h.batchId,changes:u}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let c=i.ha[i.currentUser.toKey()];c||(c=new Ke(be)),c=c.insert(o,a),i.ha[i.currentUser.toKey()]=c}(s,r.batchId,n),await mr(s,r.changes),await Gi(s.remoteStore)}catch(r){const i=Sc(r,"Failed to persist write");n.reject(i)}}async function Od(t,e){const n=oe(t);try{const s=await e1(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.aa.get(i);o&&(xe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.na=!0:r.modifiedDocuments.size>0?xe(o.na):r.removedDocuments.size>0&&(xe(o.na),o.na=!1))}),await mr(n,s,e)}catch(s){await pr(s)}}function pu(t,e,n){const s=oe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.ia.forEach((i,o)=>{const a=o.view.Pu(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=oe(i);a.onlineState=o;let c=!1;a.queries.forEach((l,u)=>{for(const h of u.listeners)h.Pu(o)&&(c=!0)}),c&&Ic(a)}(s.eventManager,e),r.length&&s.sa.zo(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function G1(t,e,n){const s=oe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.aa.get(e),i=r&&r.key;if(i){let o=new Ke(W.comparator);o=o.insert(i,Ze.newNoDocument(i,he.min()));const a=Ne().add(i),c=new qi(he.min(),new Map,new Ye(be),o,a);await Od(s,c),s.ua=s.ua.remove(i),s.aa.delete(e),Ac(s)}else await da(s.localStore,e,!1).then(()=>pa(s,e,n)).catch(pr)}async function Q1(t,e){const n=oe(t),s=e.batch.batchId;try{const r=await Zw(n.localStore,e);Ld(n,s,null),Pd(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await mr(n,r)}catch(r){await pr(r)}}async function Y1(t,e,n){const s=oe(t);try{const r=await function(i,o){const a=oe(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.Bs.lookupMutationBatch(c,o).next(u=>(xe(u!==null),l=u.keys(),a.Bs.removeMutationBatch(c,u))).next(()=>a.Bs.performConsistencyCheck(c)).next(()=>a.fi.Ks(c,l))})}(s.localStore,e);Ld(s,e,n),Pd(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await mr(s,r)}catch(r){await pr(r)}}function Pd(t,e){(t.la.get(e)||[]).forEach(n=>{n.resolve()}),t.la.delete(e)}function Ld(t,e,n){const s=oe(t);let r=s.ha[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.ha[s.currentUser.toKey()]=r}}function pa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.ra.get(e))t.ia.delete(s),n&&t.sa.wa(s,n);t.ra.delete(e),t.isPrimaryClient&&t.ca.vi(e).forEach(s=>{t.ca.containsKey(s)||$d(t,s)})}function $d(t,e){t.oa.delete(e.path.canonicalString());const n=t.ua.get(e);n!==null&&(Id(t.remoteStore,n),t.ua=t.ua.remove(e),t.aa.delete(n),Ac(t))}function gu(t,e,n){for(const s of n)s instanceof Md?(t.ca.addReference(s.key,e),X1(t,s)):s instanceof Rd?(H("SyncEngine","Document no longer in limbo: "+s.key),t.ca.removeReference(s.key,e),t.ca.containsKey(s.key)||$d(t,s.key)):ne()}function X1(t,e){const n=e.key,s=n.path.canonicalString();t.ua.get(n)||t.oa.has(s)||(H("SyncEngine","New document in limbo: "+n),t.oa.add(s),Ac(t))}function Ac(t){for(;t.oa.size>0&&t.ua.size<t.maxConcurrentLimboResolutions;){const e=t.oa.values().next().value;t.oa.delete(e);const n=new W(Re.fromString(e)),s=t.fa.next();t.aa.set(s,new j1(n)),t.ua=t.ua.insert(n,s),Sd(t.remoteStore,new wn(An(pc(n.path)),s,2,uc.A))}}async function mr(t,e,n){const s=oe(t),r=[],i=[],o=[];s.ia.isEmpty()||(s.ia.forEach((a,c)=>{o.push(s._a(c,e,n).then(l=>{if(l){s.isPrimaryClient&&s.sharedClientState.updateQueryState(c.targetId,l.fromCache?"not-current":"current"),r.push(l);const u=vc.Ys(c.targetId,l);i.push(u)}}))}),await Promise.all(o),s.sa.zo(r),await async function(a,c){const l=oe(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>D.forEach(c,h=>D.forEach(h.Hs,d=>l.persistence.referenceDelegate.addReference(u,h.targetId,d)).next(()=>D.forEach(h.Js,d=>l.persistence.referenceDelegate.removeReference(u,h.targetId,d)))))}catch(u){if(!dr(u))throw u;H("LocalStore","Failed to update sequence numbers: "+u)}for(const u of c){const h=u.targetId;if(!u.fromCache){const d=l.ui.get(h),g=d.snapshotVersion,y=d.withLastLimboFreeSnapshotVersion(g);l.ui=l.ui.insert(h,y)}}}(s.localStore,i))}async function J1(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const s=await _d(n.localStore,e);n.currentUser=e,function(r,i){r.la.forEach(o=>{o.forEach(a=>{a.reject(new Q(S.CANCELLED,i))})}),r.la.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mr(n,s.di)}}function Z1(t,e){const n=oe(t),s=n.aa.get(e);if(s&&s.na)return Ne().add(s.key);{let r=Ne();const i=n.ra.get(e);if(!i)return r;for(const o of i){const a=n.ia.get(o);r=r.unionWith(a.view.ju)}return r}}function eE(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Od.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G1.bind(null,e),e.sa.zo=$1.bind(null,e.eventManager),e.sa.wa=F1.bind(null,e.eventManager),e}function tE(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y1.bind(null,e),e}class nE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.M=zi(e.databaseInfo.databaseId),this.sharedClientState=this.ga(e),this.persistence=this.ya(e),await this.persistence.start(),this.gcScheduler=this.pa(e),this.localStore=this.Ia(e)}pa(e){return null}Ia(e){return Jw(this.persistence,new Yw,e.initialUser,this.M)}ya(e){return new h1(Ec.Yi,this.M)}ga(e){return new d1}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class sE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pu(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=J1.bind(null,this.syncEngine),await M1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new O1}createDatastore(e){const n=zi(e.databaseInfo.databaseId),s=(r=e.databaseInfo,new y1(r));var r;return function(i,o,a,c){return new E1(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,r=e.asyncQueue,i=a=>pu(this.syncEngine,a,0),o=hu.vt()?new hu:new p1,new b1(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(e,n){return function(s,r,i,o,a,c,l){const u=new H1(s,r,i,o,a,c);return l&&(u.da=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=oe(e);H("RemoteStore","RemoteStore shutting down."),n.wu.add(5),await gr(n),n.gu.shutdown(),n.yu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=ht.UNAUTHENTICATED,this.clientId=Xf.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{H("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>(H("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Sc(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function oE(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await _d(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function aE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cE(t);H("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(r=>fu(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>fu(e.remoteStore,i)),t.onlineComponents=e}async function cE(t){return t.offlineComponents||(H("FirestoreClient","Using default OfflineComponentProvider"),await oE(t,new nE)),t.offlineComponents}async function Fd(t){return t.onlineComponents||(H("FirestoreClient","Using default OnlineComponentProvider"),await aE(t,new sE)),t.onlineComponents}function lE(t){return Fd(t).then(e=>e.syncEngine)}async function mu(t){const e=await Fd(t),n=e.eventManager;return n.onListen=K1.bind(null,e.syncEngine),n.onUnlisten=z1.bind(null,e.syncEngine),n}const yu=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t,e,n){if(!n)throw new Q(S.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uE(t,e,n,s){if(e===!0&&s===!0)throw new Q(S.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vu(t){if(!W.isDocumentKey(t))throw new Q(S.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wu(t){if(W.isDocumentKey(t))throw new Q(S.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function Vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xc(t);throw new Q(S.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,uE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n,s){this._authCredentials=n,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eu({}),this._settingsFrozen=!1,e instanceof es?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Q(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new es(r.options.projectId)}(e))}get app(){if(!this._app)throw new Q(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Q(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eu(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new A0;switch(n.type){case"gapi":const s=n.client;return xe(!(typeof s!="object"||s===null||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new N0(s,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Q(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=yu.get(e);n&&(H("ComponentProvider","Removing Datastore"),yu.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xt(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}}class Qi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Qi(this.firestore,e,this._query)}}class Xt extends Qi{constructor(e,n,s){super(e,n,pc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new W(e))}withConverter(e){return new Xt(this.firestore,e,this._path)}}function _u(t,e,...n){if(t=Yn(t),Vd("collection","path",e),t instanceof Dc){const s=Re.fromString(e,...n);return wu(s),new Xt(t,null,s)}{if(!(t instanceof bt||t instanceof Xt))throw new Q(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Re.fromString(e,...n));return wu(s),new Xt(t.firestore,null,s)}}function hE(t,e,...n){if(t=Yn(t),arguments.length===1&&(e=Xf.R()),Vd("doc","path",e),t instanceof Dc){const s=Re.fromString(e,...n);return vu(s),new bt(t,null,new W(s))}{if(!(t instanceof bt||t instanceof Xt))throw new Q(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Re.fromString(e,...n));return vu(s),new bt(t.firestore,t instanceof Xt?t.converter:null,new W(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Td(this,"async_queue_retry"),this.Qa=()=>{const n=yo();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=yo();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const n=yo();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const n=new vn;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}async za(){if(this.$a.length!==0){try{await this.$a[0](),this.$a.shift(),this.No.reset()}catch(e){if(!dr(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.$a.length>0&&this.No.Ro(()=>this.za())}}Wa(e){const n=this.Fa.then(()=>(this.qa=!0,e().catch(s=>{this.Ua=s,this.qa=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw Zt("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.qa=!1,s))));return this.Fa=n,n}enqueueAfterDelay(e,n,s){this.ja(),this.Ga.indexOf(e)>-1&&(n=0);const r=Cc.createAndSchedule(this,e,n,s,i=>this.Ha(i));return this.La.push(r),r}ja(){this.Ua&&ne()}verifyOperationInProgress(){}async Ja(){let e;do e=this.Fa,await e;while(e!==this.Fa)}Ya(e){for(const n of this.La)if(n.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.La)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const n=this.La.indexOf(e);this.La.splice(n,1)}}function bu(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const r of n)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class ui extends Dc{constructor(e,n,s){super(e,n,s),this.type="firestore",this._queue=new fE,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ud(this),this._firestoreClient.terminate()}}function dE(t=lv()){return rv(t,"firestore").getImmediate()}function Bd(t){return t._firestoreClient||Ud(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ud(t){var e;const n=t._freezeSettings(),s=function(r,i,o,a){return new L0(r,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new iE(t._authCredentials,t._appCheckCredentials,t._queue,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rs(Xe.fromBase64String(e))}catch(n){throw new Q(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rs(Xe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=/^__.*__$/;class gE{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ki(e,this.data,n,this.fieldTransforms)}}function Hd(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class Mc{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.M=s,this.ignoreUndefinedProperties=r,i===void 0&&this.tc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new Mc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.nc({path:s,ic:!1});return r.rc(e),r}oc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.nc({path:s,ic:!1});return r.tc(),r}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return hi(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(e.length===0)throw this.ac("Document fields must not be empty");if(Hd(this.ec)&&pE.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class mE{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=s||zi(e)}lc(e,n,s,r=!1){return new Mc({ec:e,methodName:n,hc:s,path:dt.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function yE(t){const e=t._freezeSettings(),n=zi(t._databaseId);return new mE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vE(t,e,n,s,r,i={}){const o=t.lc(i.merge||i.mergeFields?2:0,e,n,r);Wd("Data must be an object, but it was:",o,s);const a=qd(s,o);let c,l;if(i.merge)c=new sa(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const d=wE(e,h,n);if(!o.contains(d))throw new Q(S.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);_E(u,d)||u.push(d)}c=new sa(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new gE(new St(a),c,l)}function Kd(t,e){if(zd(t=Yn(t)))return Wd("Unsupported field value:",e,t),qd(t,e);if(t instanceof jd)return function(n,s){if(!Hd(s.ec))throw s.ac(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ac(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ic&&e.ec!==4)throw e.ac("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=Kd(o,s.uc(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(t,e)}return function(n,s){if((n=Yn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ow(s.M,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=tt.fromDate(n);return{timestampValue:ci(s.M,r)}}if(n instanceof tt){const r=new tt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ci(s.M,r)}}if(n instanceof kc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof rs)return{bytesValue:md(s.M,n._byteString)};if(n instanceof bt){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s.ac(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:mc(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.ac(`Unsupported field value: ${xc(n)}`)}(t,e)}function qd(t,e){const n={};return Jf(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(t,(s,r)=>{const i=Kd(r,e.sc(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function zd(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof kc||t instanceof rs||t instanceof bt||t instanceof jd)}function Wd(t,e,n){if(!zd(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=xc(n);throw s==="an object"?e.ac(t+" a custom object"):e.ac(t+" "+s)}}function wE(t,e,n){if((e=Yn(e))instanceof Nc)return e._internalPath;if(typeof e=="string")return Gd(t,e);throw hi("Field path arguments must be of type string or ",t,!1,void 0,n)}const EE=new RegExp("[~\\*/\\[\\]]");function Gd(t,e,n){if(e.search(EE)>=0)throw hi(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nc(...e.split("."))._internalPath}catch{throw hi(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hi(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${s}`),o&&(c+=` in document ${r}`),c+=")"),new Q(S.INVALID_ARGUMENT,a+t+c)}function _E(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bE extends Qd{data(){return super.data()}}function Yd(t,e){return typeof e=="string"?Gd(t,e):e instanceof Nc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xd extends Qd{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Br(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Yd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Br extends Xd{data(e={}){return super.data(e)}}class TE{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Ss(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Br(this._firestore,this._userDataWriter,s.key,s,new Ss(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>({type:"added",doc:new Br(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Ss(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:i++}))}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new Br(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Ss(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,l=-1;return o.type!==0&&(c=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),l=i.indexOf(o.doc.key)),{type:CE(o.type),doc:a,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CE(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{convertValue(e,n="none"){switch(Sn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ne()}}convertObject(e,n){const s={};return ps(e.fields,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertGeoPoint(e){return new kc(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ed(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Qs(e));default:return null}}convertTimestamp(e){const n=en(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Re.fromString(e);xe(Ed(s));const r=new es(s.get(1),s.get(3)),i=new W(s.popFirst(5));return r.isEqual(n)||Zt(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Jd extends IE{constructor(e){super(),this.firestore=e}convertBytes(e){return new rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function xE(t,e){const n=Vr(t.firestore,ui),s=hE(t),r=AE(t.converter,e);return NE(n,[vE(yE(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,zn.exists(!1))]).then(()=>s)}function DE(t,...e){var n,s,r;t=Yn(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||bu(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(bu(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(s=h.error)===null||s===void 0?void 0:s.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let c,l,u;if(t instanceof bt)l=Vr(t.firestore,ui),u=pc(t._key.path),c={next:h=>{e[o]&&e[o](kE(l,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Vr(t,Qi);l=Vr(h.firestore,ui),u=h._query;const d=new Jd(l);c={next:g=>{e[o]&&e[o](new TE(l,d,h,g))},error:e[o+1],complete:e[o+2]},SE(t._query)}return function(h,d,g,y){const C=new rE(y),I=new V1(d,C,g);return h.asyncQueue.enqueueAndForget(async()=>P1(await mu(h),I)),()=>{C.Aa(),h.asyncQueue.enqueueAndForget(async()=>L1(await mu(h),I))}}(Bd(l),u,a,c)}function NE(t,e){return function(n,s){const r=new vn;return n.asyncQueue.enqueueAndForget(async()=>W1(await lE(n),s,r)),r.promise}(Bd(t),e)}function kE(t,e,n){const s=n.docs.get(e._key),r=new Jd(t);return new Xd(t,r,e._key,s,new Ss(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){ds=n})(av),Gr(new Us("firestore",(n,{options:s})=>{const r=n.getProvider("app").getImmediate(),i=new ui(r,new x0(n.getProvider("auth-internal")),new M0(n.getProvider("app-check-internal")));return s=Object.assign({useFetchStreams:e},s),i._setSettings(s),i},"PUBLIC")),Kn(Hl,"3.4.9",t),Kn(Hl,"3.4.9","esm2017")})();var ME="firebase",RE="9.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn(ME,RE,"app");const OE={apiKey:"AIzaSyBaV42VXZjrUFm9ROjEowy7fisOVKefbCM",authDomain:"e-invitation-13780.firebaseapp.com",projectId:"e-invitation-13780",storageBucket:"e-invitation-13780.appspot.com",messagingSenderId:"790345930962",appId:"1:790345930962:web:b74e58fcae5ebfd056350b"},PE=cv(OE),Tu=dE(PE);var Rc=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Oc={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Rc,function(){var n=1e3,s=6e4,r=36e5,i="millisecond",o="second",a="minute",c="hour",l="day",u="week",h="month",d="quarter",g="year",y="date",C="Invalid Date",I=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,M=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,j={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},Z=function(G,L,R){var V=String(G);return!V||V.length>=L?G:""+Array(L+1-V.length).join(R)+G},Y={s:Z,z:function(G){var L=-G.utcOffset(),R=Math.abs(L),V=Math.floor(R/60),b=R%60;return(L<=0?"+":"-")+Z(V,2,"0")+":"+Z(b,2,"0")},m:function G(L,R){if(L.date()<R.date())return-G(R,L);var V=12*(R.year()-L.year())+(R.month()-L.month()),b=L.clone().add(V,h),P=R-b<0,K=L.clone().add(V+(P?-1:1),h);return+(-(V+(R-b)/(P?b-K:K-b))||0)},a:function(G){return G<0?Math.ceil(G)||0:Math.floor(G)},p:function(G){return{M:h,y:g,w:u,d:l,D:y,h:c,m:a,s:o,ms:i,Q:d}[G]||String(G||"").toLowerCase().replace(/s$/,"")},u:function(G){return G===void 0}},ue="en",pe={};pe[ue]=j;var ee=function(G){return G instanceof Pe},Ce=function G(L,R,V){var b;if(!L)return ue;if(typeof L=="string"){var P=L.toLowerCase();pe[P]&&(b=P),R&&(pe[P]=R,b=P);var K=L.split("-");if(!b&&K.length>1)return G(K[0])}else{var fe=L.name;pe[fe]=L,b=fe}return!V&&b&&(ue=b),b||!V&&ue},ae=function(G,L){if(ee(G))return G.clone();var R=typeof L=="object"?L:{};return R.date=G,R.args=arguments,new Pe(R)},re=Y;re.l=Ce,re.i=ee,re.w=function(G,L){return ae(G,{locale:L.$L,utc:L.$u,x:L.$x,$offset:L.$offset})};var Pe=function(){function G(R){this.$L=Ce(R.locale,null,!0),this.parse(R)}var L=G.prototype;return L.parse=function(R){this.$d=function(V){var b=V.date,P=V.utc;if(b===null)return new Date(NaN);if(re.u(b))return new Date;if(b instanceof Date)return new Date(b);if(typeof b=="string"&&!/Z$/i.test(b)){var K=b.match(I);if(K){var fe=K[2]-1||0,Ee=(K[7]||"0").substring(0,3);return P?new Date(Date.UTC(K[1],fe,K[3]||1,K[4]||0,K[5]||0,K[6]||0,Ee)):new Date(K[1],fe,K[3]||1,K[4]||0,K[5]||0,K[6]||0,Ee)}}return new Date(b)}(R),this.$x=R.x||{},this.init()},L.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},L.$utils=function(){return re},L.isValid=function(){return this.$d.toString()!==C},L.isSame=function(R,V){var b=ae(R);return this.startOf(V)<=b&&b<=this.endOf(V)},L.isAfter=function(R,V){return ae(R)<this.startOf(V)},L.isBefore=function(R,V){return this.endOf(V)<ae(R)},L.$g=function(R,V,b){return re.u(R)?this[V]:this.set(b,R)},L.unix=function(){return Math.floor(this.valueOf()/1e3)},L.valueOf=function(){return this.$d.getTime()},L.startOf=function(R,V){var b=this,P=!!re.u(V)||V,K=re.p(R),fe=function(B,ie){var de=re.w(b.$u?Date.UTC(b.$y,ie,B):new Date(b.$y,ie,B),b);return P?de:de.endOf(l)},Ee=function(B,ie){return re.w(b.toDate()[B].apply(b.toDate("s"),(P?[0,0,0,0]:[23,59,59,999]).slice(ie)),b)},ye=this.$W,Te=this.$M,wt=this.$D,v="set"+(this.$u?"UTC":"");switch(K){case g:return P?fe(1,0):fe(31,11);case h:return P?fe(1,Te):fe(0,Te+1);case u:var F=this.$locale().weekStart||0,x=(ye<F?ye+7:ye)-F;return fe(P?wt-x:wt+(6-x),Te);case l:case y:return Ee(v+"Hours",0);case c:return Ee(v+"Minutes",1);case a:return Ee(v+"Seconds",2);case o:return Ee(v+"Milliseconds",3);default:return this.clone()}},L.endOf=function(R){return this.startOf(R,!1)},L.$set=function(R,V){var b,P=re.p(R),K="set"+(this.$u?"UTC":""),fe=(b={},b[l]=K+"Date",b[y]=K+"Date",b[h]=K+"Month",b[g]=K+"FullYear",b[c]=K+"Hours",b[a]=K+"Minutes",b[o]=K+"Seconds",b[i]=K+"Milliseconds",b)[P],Ee=P===l?this.$D+(V-this.$W):V;if(P===h||P===g){var ye=this.clone().set(y,1);ye.$d[fe](Ee),ye.init(),this.$d=ye.set(y,Math.min(this.$D,ye.daysInMonth())).$d}else fe&&this.$d[fe](Ee);return this.init(),this},L.set=function(R,V){return this.clone().$set(R,V)},L.get=function(R){return this[re.p(R)]()},L.add=function(R,V){var b,P=this;R=Number(R);var K=re.p(V),fe=function(Te){var wt=ae(P);return re.w(wt.date(wt.date()+Math.round(Te*R)),P)};if(K===h)return this.set(h,this.$M+R);if(K===g)return this.set(g,this.$y+R);if(K===l)return fe(1);if(K===u)return fe(7);var Ee=(b={},b[a]=s,b[c]=r,b[o]=n,b)[K]||1,ye=this.$d.getTime()+R*Ee;return re.w(ye,this)},L.subtract=function(R,V){return this.add(-1*R,V)},L.format=function(R){var V=this,b=this.$locale();if(!this.isValid())return b.invalidDate||C;var P=R||"YYYY-MM-DDTHH:mm:ssZ",K=re.z(this),fe=this.$H,Ee=this.$m,ye=this.$M,Te=b.weekdays,wt=b.months,v=function(ie,de,ce,X){return ie&&(ie[de]||ie(V,P))||ce[de].slice(0,X)},F=function(ie){return re.s(fe%12||12,ie,"0")},x=b.meridiem||function(ie,de,ce){var X=ie<12?"AM":"PM";return ce?X.toLowerCase():X},B={YY:String(this.$y).slice(-2),YYYY:this.$y,M:ye+1,MM:re.s(ye+1,2,"0"),MMM:v(b.monthsShort,ye,wt,3),MMMM:v(wt,ye),D:this.$D,DD:re.s(this.$D,2,"0"),d:String(this.$W),dd:v(b.weekdaysMin,this.$W,Te,2),ddd:v(b.weekdaysShort,this.$W,Te,3),dddd:Te[this.$W],H:String(fe),HH:re.s(fe,2,"0"),h:F(1),hh:F(2),a:x(fe,Ee,!0),A:x(fe,Ee,!1),m:String(Ee),mm:re.s(Ee,2,"0"),s:String(this.$s),ss:re.s(this.$s,2,"0"),SSS:re.s(this.$ms,3,"0"),Z:K};return P.replace(M,function(ie,de){return de||B[ie]||K.replace(":","")})},L.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},L.diff=function(R,V,b){var P,K=re.p(V),fe=ae(R),Ee=(fe.utcOffset()-this.utcOffset())*s,ye=this-fe,Te=re.m(this,fe);return Te=(P={},P[g]=Te/12,P[h]=Te,P[d]=Te/3,P[u]=(ye-Ee)/6048e5,P[l]=(ye-Ee)/864e5,P[c]=ye/r,P[a]=ye/s,P[o]=ye/n,P)[K]||ye,b?Te:re.a(Te)},L.daysInMonth=function(){return this.endOf(h).$D},L.$locale=function(){return pe[this.$L]},L.locale=function(R,V){if(!R)return this.$L;var b=this.clone(),P=Ce(R,V,!0);return P&&(b.$L=P),b},L.clone=function(){return re.w(this.$d,this)},L.toDate=function(){return new Date(this.valueOf())},L.toJSON=function(){return this.isValid()?this.toISOString():null},L.toISOString=function(){return this.$d.toISOString()},L.toString=function(){return this.$d.toUTCString()},G}(),Le=Pe.prototype;return ae.prototype=Le,[["$ms",i],["$s",o],["$m",a],["$H",c],["$W",l],["$M",h],["$y",g],["$D",y]].forEach(function(G){Le[G[1]]=function(L){return this.$g(L,G[0],G[1])}}),ae.extend=function(G,L){return G.$i||(G(L,Pe,ae),G.$i=!0),ae},ae.locale=Ce,ae.isDayjs=ee,ae.unix=function(G){return ae(1e3*G)},ae.en=pe[ue],ae.Ls=pe,ae.p={},ae})})(Oc);var xr=Oc.exports,Zd={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Rc,function(){return function(n,s,r){n=n||{};var i=s.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(l,u,h,d){return i.fromToBase(l,u,h,d)}r.en.relativeTime=o,i.fromToBase=function(l,u,h,d,g){for(var y,C,I,M=h.$locale().relativeTime||o,j=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],Z=j.length,Y=0;Y<Z;Y+=1){var ue=j[Y];ue.d&&(y=d?r(l).diff(h,ue.d,!0):h.diff(l,ue.d,!0));var pe=(n.rounding||Math.round)(Math.abs(y));if(I=y>0,pe<=ue.r||!ue.r){pe<=1&&Y>0&&(ue=j[Y-1]);var ee=M[ue.l];g&&(pe=g(""+pe)),C=typeof ee=="string"?ee.replace("%d",pe):ee(pe,u,ue.l,I);break}}if(u)return C;var Ce=I?M.future:M.past;return typeof Ce=="function"?Ce(C):Ce.replace("%s",C)},i.to=function(l,u){return a(l,u,this,!0)},i.from=function(l,u){return a(l,u,this)};var c=function(l){return l.$u?r.utc():r()};i.toNow=function(l){return this.to(c(this),l)},i.fromNow=function(l){return this.from(c(this),l)}}})})(Zd);var LE=Zd.exports,ep={exports:{}};(function(t,e){(function(n,s){t.exports=s(Oc.exports)})(Rc,function(n){function s(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=s(n),i={name:"id",weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(o){return o+"."}};return r.default.locale(i,null,!0),i})})(ep);var $E=ep.exports;const FE={class:"my-2 flex"},VE={class:"w-full text-center"},BE=_("div",{class:"m-2 text-2xl"}," Terimakasih atas do'a serta ucapan selamat anda ",-1),UE=_("br",null,null,-1),jE={class:"flex-row space-y-2 rounded border bg-white bg-opacity-90 p-4 text-left text-xs shadow"},HE=_("br",null,null,-1),KE={class:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4"},qE={class:"flex items-center"},zE=["src"],WE={class:"ml-4 flex-auto"},GE={class:"text-sm font-semibold font-hand2"},QE={class:"text-xs"},YE={class:"text-md mt-4 break-words font-hand2"},XE={class:"relative z-10","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},JE=_("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),ZE={class:"fixed inset-0 z-10 overflow-y-auto"},e_={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},t_={class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},n_=tr('<div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"><div class="sm:flex sm:items-start"><div class="mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"><svg class="h-6 w-6 text-red-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div><div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"><div class="mt-2"><p class="text-sm text-gray-500">Anda belum mengisi pesan.</p></div></div></div></div>',1),s_={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},r_={setup(t){xr.locale($E),xr.extend(LE);const e=Dn({messages:[],name:"",message:"",error:!1}),n=async()=>{await DE(_u(Tu,"messages2"),o=>{e.messages=[],o.forEach(a=>{e.messages.push(a.data())})})},s=async o=>{if(o.preventDefault(),!e.message){e.error=!0;return}await xE(_u(Tu,"messages2"),{name:e.name?e.name:"Hamba Allah",message:e.message,created:new Date}),e.name="",e.message=""},r=o=>"https://api.dicebear.com/7.x/personas/svg?seed="+encodeURIComponent(o),i=o=>{let a=xr(new Date);return xr(o).from(a)};return _i(()=>{n()}),(o,a)=>(ct(),lt(ft,null,[_("div",FE,[_("div",VE,[BE,UE,_("form",null,[_("div",jE,[xs(_("input",{type:"text",placeholder:"Nama","onUpdate:modelValue":a[0]||(a[0]=c=>rt(e).name=c),class:"w-full rounded border p-2 font-hand2 outline-none"},null,512),[[vl,rt(e).name]]),xs(_("input",{type:"text",placeholder:"Pesan","onUpdate:modelValue":a[1]||(a[1]=c=>rt(e).message=c),class:"w-full rounded border p-2 font-hand2 outline-none"},null,512),[[vl,rt(e).message]]),_("button",{onClick:s,type:"submit",class:"w-full rounded border bg-white bg-opacity-50 p-2 focus:outline-none"}," Kirim ")])]),HE,_("div",KE,[(ct(!0),lt(ft,null,om(rt(e).messages,(c,l)=>(ct(),lt("div",{key:l,class:"rounded border bg-white bg-opacity-90 p-4 text-left shadow"},[_("div",qE,[_("img",{class:"h-10 w-10 flex-none rounded-full border",src:r(c.name)},null,8,zE),_("div",WE,[_("div",GE,Dr(c.name),1),_("div",QE,Dr(i(c.created.toDate())),1)])]),_("p",YE,Dr(c.message),1)]))),128))])])]),xs(_("div",XE,[JE,_("div",ZE,[_("div",e_,[_("div",t_,[n_,_("div",s_,[_("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-xs font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:mt-0 sm:ml-3 sm:w-auto",onClick:a[2]||(a[2]=c=>rt(e).error=!1)}," Tutup ")])])])])],512),[[Vo,rt(e).error]])],64))}};/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const tp=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",ys=t=>tp?Symbol(t):"_vr_"+t,i_=ys("rvlm"),Cu=ys("rvd"),Pc=ys("r"),Lc=ys("rl"),ga=ys("rvl"),Fn=typeof window!="undefined";function o_(t){return t.__esModule||tp&&t[Symbol.toStringTag]==="Module"}const Ie=Object.assign;function vo(t,e){const n={};for(const s in e){const r=e[s];n[s]=Array.isArray(r)?r.map(t):t(r)}return n}const Os=()=>{},a_=/\/$/,c_=t=>t.replace(a_,"");function wo(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("?"),c=e.indexOf("#",a>-1?a:0);return a>-1&&(s=e.slice(0,a),i=e.slice(a+1,c>-1?c:e.length),r=t(i)),c>-1&&(s=s||e.slice(0,c),o=e.slice(c,e.length)),s=f_(s!=null?s:e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function l_(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Su(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function u_(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&is(e.matched[s],n.matched[r])&&np(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function is(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function np(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!h_(t[n],e[n]))return!1;return!0}function h_(t,e){return Array.isArray(t)?Iu(t,e):Array.isArray(e)?Iu(e,t):t===e}function Iu(t,e){return Array.isArray(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function f_(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/");let r=n.length-1,i,o;for(i=0;i<s.length;i++)if(o=s[i],!(r===1||o==="."))if(o==="..")r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var er;(function(t){t.pop="pop",t.push="push"})(er||(er={}));var Ps;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ps||(Ps={}));function d_(t){if(!t)if(Fn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),c_(t)}const p_=/^[^#]+#/;function g_(t,e){return t.replace(p_,"#")+e}function m_(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Yi=()=>({left:window.pageXOffset,top:window.pageYOffset});function y_(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=m_(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Au(t,e){return(history.state?history.state.position-e:-1)+t}const ma=new Map;function v_(t,e){ma.set(t,e)}function w_(t){const e=ma.get(t);return ma.delete(t),e}let E_=()=>location.protocol+"//"+location.host;function sp(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),Su(c,"")}return Su(n,t)+s+r}function __(t,e,n,s){let r=[],i=[],o=null;const a=({state:d})=>{const g=sp(t,location),y=n.value,C=e.value;let I=0;if(d){if(n.value=g,e.value=d,o&&o===y){o=null;return}I=C?d.position-C.position:0}else s(g);r.forEach(M=>{M(n.value,y,{delta:I,type:er.pop,direction:I?I>0?Ps.forward:Ps.back:Ps.unknown})})};function c(){o=n.value}function l(d){r.push(d);const g=()=>{const y=r.indexOf(d);y>-1&&r.splice(y,1)};return i.push(g),g}function u(){const{history:d}=window;!d.state||d.replaceState(Ie({},d.state,{scroll:Yi()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:c,listen:l,destroy:h}}function xu(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Yi():null}}function b_(t){const{history:e,location:n}=window,s={value:sp(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const h=t.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+c:E_()+t+c;try{e[u?"replaceState":"pushState"](l,"",d),r.value=l}catch(g){console.error(g),n[u?"replace":"assign"](d)}}function o(c,l){const u=Ie({},e.state,xu(r.value.back,c,r.value.forward,!0),l,{position:r.value.position});i(c,u,!0),s.value=c}function a(c,l){const u=Ie({},r.value,e.state,{forward:c,scroll:Yi()});i(u.current,u,!0);const h=Ie({},xu(s.value,c,null),{position:u.position+1},l);i(c,h,!1),s.value=c}return{location:s,state:r,push:a,replace:o}}function T_(t){t=d_(t);const e=b_(t),n=__(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=Ie({location:"",base:t,go:s,createHref:g_.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function C_(t){return typeof t=="string"||t&&typeof t=="object"}function rp(t){return typeof t=="string"||typeof t=="symbol"}const Ht={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ip=ys("nf");var Du;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Du||(Du={}));function os(t,e){return Ie(new Error,{type:t,[ip]:!0},e)}function Kt(t,e){return t instanceof Error&&ip in t&&(e==null||!!(t.type&e))}const Nu="[^/]+?",S_={sensitive:!1,strict:!1,start:!0,end:!0},I_=/[.+*?^${}()[\]/\\]/g;function A_(t,e){const n=Ie({},S_,e),s=[];let r=n.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(r+="/");for(let h=0;h<l.length;h++){const d=l[h];let g=40+(n.sensitive?.25:0);if(d.type===0)h||(r+="/"),r+=d.value.replace(I_,"\\$&"),g+=40;else if(d.type===1){const{value:y,repeatable:C,optional:I,regexp:M}=d;i.push({name:y,repeatable:C,optional:I});const j=M||Nu;if(j!==Nu){g+=10;try{new RegExp(`(${j})`)}catch(Y){throw new Error(`Invalid custom RegExp for param "${y}" (${j}): `+Y.message)}}let Z=C?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;h||(Z=I&&l.length<2?`(?:/${Z})`:"/"+Z),I&&(Z+="?"),r+=Z,g+=20,I&&(g+=-8),C&&(g+=-20),j===".*"&&(g+=-50)}u.push(g)}s.push(u)}if(n.strict&&n.end){const l=s.length-1;s[l][s[l].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const g=u[d]||"",y=i[d-1];h[y.name]=g&&y.repeatable?g.split("/"):g}return h}function c(l){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of d)if(g.type===0)u+=g.value;else if(g.type===1){const{value:y,repeatable:C,optional:I}=g,M=y in l?l[y]:"";if(Array.isArray(M)&&!C)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const j=Array.isArray(M)?M.join("/"):M;if(!j)if(I)d.length<2&&t.length>1&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${y}"`);u+=j}}return u}return{re:o,score:s,keys:i,parse:a,stringify:c}}function x_(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function D_(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=x_(s[n],r[n]);if(i)return i;n++}return r.length-s.length}const N_={type:0,value:""},k_=/[a-zA-Z0-9_]/;function M_(t){if(!t)return[[]];if(t==="/")return[[N_]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${l}": ${g}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,c,l="",u="";function h(){!l||(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function d(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):d();break;case 4:d(),n=s;break;case 1:c==="("?n=2:k_.test(c)?d():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),h(),o(),r}function R_(t,e,n){const s=A_(M_(t.path),n),r=Ie(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function O_(t,e){const n=[],s=new Map;e=Mu({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,h,d){const g=!d,y=L_(u);y.aliasOf=d&&d.record;const C=Mu(e,u),I=[y];if("alias"in u){const Z=typeof u.alias=="string"?[u.alias]:u.alias;for(const Y of Z)I.push(Ie({},y,{components:d?d.record.components:y.components,path:Y,aliasOf:d?d.record:y}))}let M,j;for(const Z of I){const{path:Y}=Z;if(h&&Y[0]!=="/"){const ue=h.record.path,pe=ue[ue.length-1]==="/"?"":"/";Z.path=h.record.path+(Y&&pe+Y)}if(M=R_(Z,h,C),d?d.alias.push(M):(j=j||M,j!==M&&j.alias.push(M),g&&u.name&&!ku(M)&&o(u.name)),"children"in y){const ue=y.children;for(let pe=0;pe<ue.length;pe++)i(ue[pe],M,d&&d.children[pe])}d=d||M,c(M)}return j?()=>{o(j)}:Os}function o(u){if(rp(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&D_(u,n[h])>=0&&(u.record.path!==n[h].record.path||!op(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!ku(u)&&s.set(u.record.name,u)}function l(u,h){let d,g={},y,C;if("name"in u&&u.name){if(d=s.get(u.name),!d)throw os(1,{location:u});C=d.record.name,g=Ie(P_(h.params,d.keys.filter(j=>!j.optional).map(j=>j.name)),u.params),y=d.stringify(g)}else if("path"in u)y=u.path,d=n.find(j=>j.re.test(y)),d&&(g=d.parse(y),C=d.record.name);else{if(d=h.name?s.get(h.name):n.find(j=>j.re.test(h.path)),!d)throw os(1,{location:u,currentLocation:h});C=d.record.name,g=Ie({},h.params,u.params),y=d.stringify(g)}const I=[];let M=d;for(;M;)I.unshift(M.record),M=M.parent;return{name:C,path:y,params:g,matched:I,meta:F_(I)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function P_(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function L_(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:$_(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function $_(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function ku(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function F_(t){return t.reduce((e,n)=>Ie(e,n.meta),{})}function Mu(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function op(t,e){return e.children.some(n=>n===t||op(t,n))}const ap=/#/g,V_=/&/g,B_=/\//g,U_=/=/g,j_=/\?/g,cp=/\+/g,H_=/%5B/g,K_=/%5D/g,lp=/%5E/g,q_=/%60/g,up=/%7B/g,z_=/%7C/g,hp=/%7D/g,W_=/%20/g;function $c(t){return encodeURI(""+t).replace(z_,"|").replace(H_,"[").replace(K_,"]")}function G_(t){return $c(t).replace(up,"{").replace(hp,"}").replace(lp,"^")}function ya(t){return $c(t).replace(cp,"%2B").replace(W_,"+").replace(ap,"%23").replace(V_,"%26").replace(q_,"`").replace(up,"{").replace(hp,"}").replace(lp,"^")}function Q_(t){return ya(t).replace(U_,"%3D")}function Y_(t){return $c(t).replace(ap,"%23").replace(j_,"%3F")}function X_(t){return t==null?"":Y_(t).replace(B_,"%2F")}function fi(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function J_(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(cp," "),o=i.indexOf("="),a=fi(o<0?i:i.slice(0,o)),c=o<0?null:fi(i.slice(o+1));if(a in e){let l=e[a];Array.isArray(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function Ru(t){let e="";for(let n in t){const s=t[n];if(n=Q_(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(s)?s.map(i=>i&&ya(i)):[s&&ya(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function Z_(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Array.isArray(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}function _s(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Wt(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(os(4,{from:n,to:e})):h instanceof Error?a(h):C_(h)?a(os(2,{from:e,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),o())},l=t.call(s&&s.instances[r],e,n,c);let u=Promise.resolve(l);t.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function Eo(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(eb(a)){const l=(a.__vccOpts||a)[e];l&&r.push(Wt(l,n,s,i,o))}else{let c=a();r.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=o_(l)?l.default:l;i.components[o]=u;const d=(u.__vccOpts||u)[e];return d&&Wt(d,n,s,i,o)()}))}}return r}function eb(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Ou(t){const e=Lt(Pc),n=Lt(Lc),s=Mt(()=>e.resolve(rt(t.to))),r=Mt(()=>{const{matched:c}=s.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(is.bind(null,u));if(d>-1)return d;const g=Pu(c[l-2]);return l>1&&Pu(u)===g&&h[h.length-1].path!==g?h.findIndex(is.bind(null,c[l-2])):d}),i=Mt(()=>r.value>-1&&rb(n.params,s.value.params)),o=Mt(()=>r.value>-1&&r.value===n.matched.length-1&&np(n.params,s.value.params));function a(c={}){return sb(c)?e[rt(t.replace)?"replace":"push"](rt(t.to)).catch(Os):Promise.resolve()}return{route:s,href:Mt(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const tb=bh({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ou,setup(t,{slots:e}){const n=Dn(Ou(t)),{options:s}=Lt(Pc),r=Mt(()=>({[Lu(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Lu(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Vh("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),nb=tb;function sb(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function rb(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Array.isArray(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Pu(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Lu=(t,e,n)=>t!=null?t:e!=null?e:n,ib=bh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Lt(ga),r=Mt(()=>t.route||s.value),i=Lt(Cu,0),o=Mt(()=>r.value.matched[i]);Mr(Cu,i+1),Mr(i_,o),Mr(ga,r);const a=ig();return Rr(()=>[a.value,o.value,t.name],([c,l,u],[h,d,g])=>{l&&(l.instances[u]=c,d&&d!==l&&c&&c===h&&(l.leaveGuards.size||(l.leaveGuards=d.leaveGuards),l.updateGuards.size||(l.updateGuards=d.updateGuards))),c&&l&&(!d||!is(l,d)||!h)&&(l.enterCallbacks[u]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=r.value,l=o.value,u=l&&l.components[t.name],h=t.name;if(!u)return $u(n.default,{Component:u,route:c});const d=l.props[t.name],g=d?d===!0?c.params:typeof d=="function"?d(c):d:null,C=Vh(u,Ie({},g,e,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(l.instances[h]=null)},ref:a}));return $u(n.default,{Component:C,route:c})||C}}});function $u(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const ob=ib;function ab(t){const e=O_(t.routes,t),n=t.parseQuery||J_,s=t.stringifyQuery||Ru,r=t.history,i=_s(),o=_s(),a=_s(),c=og(Ht);let l=Ht;Fn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=vo.bind(null,v=>""+v),h=vo.bind(null,X_),d=vo.bind(null,fi);function g(v,F){let x,B;return rp(v)?(x=e.getRecordMatcher(v),B=F):B=v,e.addRoute(B,x)}function y(v){const F=e.getRecordMatcher(v);F&&e.removeRoute(F)}function C(){return e.getRoutes().map(v=>v.record)}function I(v){return!!e.getRecordMatcher(v)}function M(v,F){if(F=Ie({},F||c.value),typeof v=="string"){const X=wo(n,v,F.path),f=e.resolve({path:X.path},F),p=r.createHref(X.fullPath);return Ie(X,f,{params:d(f.params),hash:fi(X.hash),redirectedFrom:void 0,href:p})}let x;if("path"in v)x=Ie({},v,{path:wo(n,v.path,F.path).path});else{const X=Ie({},v.params);for(const f in X)X[f]==null&&delete X[f];x=Ie({},v,{params:h(v.params)}),F.params=h(F.params)}const B=e.resolve(x,F),ie=v.hash||"";B.params=u(d(B.params));const de=l_(s,Ie({},v,{hash:G_(ie),path:B.path})),ce=r.createHref(de);return Ie({fullPath:de,hash:ie,query:s===Ru?Z_(v.query):v.query||{}},B,{redirectedFrom:void 0,href:ce})}function j(v){return typeof v=="string"?wo(n,v,c.value.path):Ie({},v)}function Z(v,F){if(l!==v)return os(8,{from:F,to:v})}function Y(v){return ee(v)}function ue(v){return Y(Ie(j(v),{replace:!0}))}function pe(v){const F=v.matched[v.matched.length-1];if(F&&F.redirect){const{redirect:x}=F;let B=typeof x=="function"?x(v):x;return typeof B=="string"&&(B=B.includes("?")||B.includes("#")?B=j(B):{path:B},B.params={}),Ie({query:v.query,hash:v.hash,params:v.params},B)}}function ee(v,F){const x=l=M(v),B=c.value,ie=v.state,de=v.force,ce=v.replace===!0,X=pe(x);if(X)return ee(Ie(j(X),{state:ie,force:de,replace:ce}),F||x);const f=x;f.redirectedFrom=F;let p;return!de&&u_(s,B,x)&&(p=os(16,{to:f,from:B}),fe(B,B,!0,!1)),(p?Promise.resolve(p):ae(f,B)).catch(m=>Kt(m)?Kt(m,2)?m:K(m):b(m,f,B)).then(m=>{if(m){if(Kt(m,2))return ee(Ie(j(m.to),{state:ie,force:de,replace:ce}),F||f)}else m=Pe(f,B,!0,ce,ie);return re(f,B,m),m})}function Ce(v,F){const x=Z(v,F);return x?Promise.reject(x):Promise.resolve()}function ae(v,F){let x;const[B,ie,de]=cb(v,F);x=Eo(B.reverse(),"beforeRouteLeave",v,F);for(const X of B)X.leaveGuards.forEach(f=>{x.push(Wt(f,v,F))});const ce=Ce.bind(null,v,F);return x.push(ce),On(x).then(()=>{x=[];for(const X of i.list())x.push(Wt(X,v,F));return x.push(ce),On(x)}).then(()=>{x=Eo(ie,"beforeRouteUpdate",v,F);for(const X of ie)X.updateGuards.forEach(f=>{x.push(Wt(f,v,F))});return x.push(ce),On(x)}).then(()=>{x=[];for(const X of v.matched)if(X.beforeEnter&&!F.matched.includes(X))if(Array.isArray(X.beforeEnter))for(const f of X.beforeEnter)x.push(Wt(f,v,F));else x.push(Wt(X.beforeEnter,v,F));return x.push(ce),On(x)}).then(()=>(v.matched.forEach(X=>X.enterCallbacks={}),x=Eo(de,"beforeRouteEnter",v,F),x.push(ce),On(x))).then(()=>{x=[];for(const X of o.list())x.push(Wt(X,v,F));return x.push(ce),On(x)}).catch(X=>Kt(X,8)?X:Promise.reject(X))}function re(v,F,x){for(const B of a.list())B(v,F,x)}function Pe(v,F,x,B,ie){const de=Z(v,F);if(de)return de;const ce=F===Ht,X=Fn?history.state:{};x&&(B||ce?r.replace(v.fullPath,Ie({scroll:ce&&X&&X.scroll},ie)):r.push(v.fullPath,ie)),c.value=v,fe(v,F,x,ce),K()}let Le;function G(){Le||(Le=r.listen((v,F,x)=>{const B=M(v),ie=pe(B);if(ie){ee(Ie(ie,{replace:!0}),B).catch(Os);return}l=B;const de=c.value;Fn&&v_(Au(de.fullPath,x.delta),Yi()),ae(B,de).catch(ce=>Kt(ce,12)?ce:Kt(ce,2)?(ee(ce.to,B).then(X=>{Kt(X,20)&&!x.delta&&x.type===er.pop&&r.go(-1,!1)}).catch(Os),Promise.reject()):(x.delta&&r.go(-x.delta,!1),b(ce,B,de))).then(ce=>{ce=ce||Pe(B,de,!1),ce&&(x.delta?r.go(-x.delta,!1):x.type===er.pop&&Kt(ce,20)&&r.go(-1,!1)),re(B,de,ce)}).catch(Os)}))}let L=_s(),R=_s(),V;function b(v,F,x){K(v);const B=R.list();return B.length?B.forEach(ie=>ie(v,F,x)):console.error(v),Promise.reject(v)}function P(){return V&&c.value!==Ht?Promise.resolve():new Promise((v,F)=>{L.add([v,F])})}function K(v){return V||(V=!v,G(),L.list().forEach(([F,x])=>v?x(v):F()),L.reset()),v}function fe(v,F,x,B){const{scrollBehavior:ie}=t;if(!Fn||!ie)return Promise.resolve();const de=!x&&w_(Au(v.fullPath,0))||(B||!x)&&history.state&&history.state.scroll||null;return uh().then(()=>ie(v,F,de)).then(ce=>ce&&y_(ce)).catch(ce=>b(ce,v,F))}const Ee=v=>r.go(v);let ye;const Te=new Set;return{currentRoute:c,addRoute:g,removeRoute:y,hasRoute:I,getRoutes:C,resolve:M,options:t,push:Y,replace:ue,go:Ee,back:()=>Ee(-1),forward:()=>Ee(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:R.add,isReady:P,install(v){const F=this;v.component("RouterLink",nb),v.component("RouterView",ob),v.config.globalProperties.$router=F,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>rt(c)}),Fn&&!ye&&c.value===Ht&&(ye=!0,Y(r.location).catch(ie=>{}));const x={};for(const ie in Ht)x[ie]=Mt(()=>c.value[ie]);v.provide(Pc,F),v.provide(Lc,Dn(x)),v.provide(ga,c);const B=v.unmount;Te.add(v),v.unmount=function(){Te.delete(v),Te.size<1&&(l=Ht,Le&&Le(),Le=null,c.value=Ht,ye=!1,V=!1),B()}}}}function On(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function cb(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>is(l,a))?s.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>is(l,c))||r.push(c))}return[n,s,r]}function lb(){return Lt(Lc)}const ub={class:"my-4 flex"},hb={class:"flex-auto text-center"},fb=_("div",{class:"text-lg"},"Kepada Yang Terhormat",-1),db={class:"text-3xl"},pb={setup(t){const e=lb();return(n,s)=>(ct(),lt("div",ub,[_("div",hb,[fb,_("div",db,Dr(rt(e).query.to||"Tamu undangan"),1)])]))}},gb={},mb={class:"my-4 flex"},yb=_("div",{class:"flex-auto text-center"},[_("div",{class:"font-arabic text-4xl tracking-wider"}," \u0628\u0650\u0633\u0652\u0645\u0650 \u0627\u0644\u0644\u064E\u0651\u0647\u0650 \u0627\u0644\u0631\u064E\u0651\u062D\u0652\u0645\u064E\u0646\u0650 \u0627\u0644\u0631\u064E\u0651\u062D\u0650\u064A\u0645 "),_("br"),_("div",{class:"text-xl tracking-wider"},"Assalamu'alaikum Wr. Wb."),_("div",{class:"text-md my-2"}," Tanpa mengurangi rasa hormat. Kami mengundang Bapak / Ibu / Saudara / Saudari serta Kerabat sekalian untuk menghadiri acara pernikahan kami. ")],-1),vb=[yb];function wb(t,e){return ct(),lt("div",mb,vb)}var Eb=nn(gb,[["render",wb]]);const _b={},bb={class:"my-4 flex"},Tb=tr('<div class="flex-auto text-center"><div class="text-lg">Mempelai</div><br><table class="table-fixed w-full"><tr><td><div class="m-2 font-hand text-4xl">Ananda Kharisma Irwanto</div></td><td><div class="m-2 font-hand text-4xl">Wahyu Rizky</div></td></tr><tr><td><div class="m-4 text-sm">Anak ke-3 dari</div></td><td><div class="m-4 text-sm">Anak ke-2 dari</div></td></tr><tr><td><div class="m-2 text-sm">Bapak</div></td><td><div class="m-2 text-sm">Bapak</div></td></tr><tr><td><div class="m-2 text-lg">Tony Heru</div></td><td><div class="m-2 text-lg">Syafabri Dwi Kora</div></td></tr><tr><td><div class="m-2 text-lg">&amp;</div></td><td><div class="m-2 text-lg">&amp;</div></td></tr><tr><td><div class="m-2 text-sm">Almarhumah Ibu</div></td><td><div class="m-2 text-sm">Almarhumah Ibu</div></td></tr><tr><td><div class="m-2 text-lg">Delvi Sabrina</div></td><td><div class="m-2 text-lg">Sri Hartati</div></td></tr></table></div>',1),Cb=[Tb];function Sb(t,e){return ct(),lt("div",bb,Cb)}var Ib=nn(_b,[["render",Sb]]);const Ab={},xb={class:"my-4 flex"},Db=tr('<div class="flex-auto text-center"><div class="my-2 text-lg">Waktu</div><div class="my-2 text-2xl">Minggu, 10 Desember 2023</div><div class="my-4 grid grid-cols-2"><div class="p-1"><div class="text-md m-2">Akad Nikah</div><div class="text-md m-2 font-semibold">08:00</div><div class="m-2 text-sm">s/d</div><div class="text-md m-2 font-semibold">10:00</div><div class="m-2 text-sm">WIB</div></div><div class="p-1"><div class="text-md m-2">Resepsi</div><div class="text-md m-2 font-semibold">11:00</div><div class="m-2 text-sm">s/d</div><div class="text-md m-2 font-semibold">13:00</div><div class="m-2 text-sm">WIB</div></div></div></div>',1),Nb=[Db];function kb(t,e){return ct(),lt("div",xb,Nb)}var Mb=nn(Ab,[["render",kb]]);const Rb={},Ob={class:"my-4 flex"},Pb=_("div",{class:"flex-auto text-center"},[_("div",{class:"m-2 text-lg"},"Tempat"),_("div",{class:"m-2 text-2xl"},"Roemah Polonia")],-1),Lb=[Pb];function $b(t,e){return ct(),lt("div",Ob,Lb)}var Fb=nn(Rb,[["render",$b]]);const Vb={},Bb={class:"flex justify-center bg-opacity-100"},Ub=_("iframe",{class:"md:max-h-120 max-h-80 w-full lg:max-h-screen",height:"600",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3966.204688473318!2d106.87052341126879!3d-6.236729293725435!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e69f38c6be32787%3A0x1a2b83e8d43b0ca7!2sRoemah%20Polonia!5e0!3m2!1sen!2sid!4v1696044988461!5m2!1sen!2sid",frameborder:"0",scrolling:"no",marginheight:"0",marginwidth:"0"},null,-1),jb=[Ub];function Hb(t,e){return ct(),lt("div",Bb,jb)}var Kb=nn(Vb,[["render",Hb]]);const qb={},zb={class:"my-4 flex"},Wb=tr('<div class="flex-auto text-center"><div class="text-lg">QS. Ar-Rum Ayat 21</div><div class="my-4"><p class="m-4 font-arabic text-2xl leading-loose tracking-wider"> \u0648\u064E\u0645\u0650\u0646\u0652 \u0622\u064A\u064E\u0627\u062A\u0650\u0647\u0650 \u0623\u064E\u0646\u0652 \u062E\u064E\u0644\u064E\u0642\u064E \u0644\u064E\u0643\u064F\u0645\u0652 \u0645\u0650\u0646\u0652 \u0623\u064E\u0646\u0652\u0641\u064F\u0633\u0650\u0643\u064F\u0645\u0652 \u0623\u064E\u0632\u0652\u0648\u064E\u0627\u062C\u064B\u0627 \u0644\u0650\u062A\u064E\u0633\u0652\u0643\u064F\u0646\u064F\u0648\u0627 \u0625\u0650\u0644\u064E\u064A\u0652\u0647\u064E\u0627 \u0648\u064E\u062C\u064E\u0639\u064E\u0644\u064E \u0628\u064E\u064A\u0652\u0646\u064E\u0643\u064F\u0645\u0652 \u0645\u064E\u0648\u064E\u062F\u0651\u064E\u0629\u064B \u0648\u064E\u0631\u064E\u062D\u0652\u0645\u064E\u0629\u064B \u06DA \u0625\u0650\u0646\u0651\u064E \u0641\u0650\u064A \u0630\u064E\u0670\u0644\u0650\u0643\u064E \u0644\u064E\u0622\u064A\u064E\u0627\u062A\u064D \u0644\u0650\u0642\u064E\u0648\u0652\u0645\u064D \u064A\u064E\u062A\u064E\u0641\u064E\u0643\u0651\u064E\u0631\u064F\u0648\u0646\u064E </p><p class="text-md m-4 font-hand2"><i>\u201CDan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan pasangan-pasangan untukmu dari jenismu sendiri, agar kamu cenderung dan merasa tenteram kepadanya, dan Dia menjadikan di antaramu rasa kasih dan sayang. Sungguh, pada yang demikian itu benar-benar terdapat tanda-tanda (kebesaran Allah) bagi kaum yang berpikir.\u201D</i></p></div></div>',1),Gb=[Wb];function Qb(t,e){return ct(),lt("div",zb,Gb)}var Yb=nn(qb,[["render",Qb]]);const Xb={mounted(){let t=document.createElement("script");t.setAttribute("src","https://www.instagram.com/embed.js"),document.head.appendChild(t)}},Jb=_("hr",null,null,-1),Zb=_("div",{class:"text-lg text-center my-8"},"Gallery",-1),eT=_("div",{class:"flex place-content-center"},[_("blockquote",{class:"instagram-media","data-instgrm-permalink":"https://www.instagram.com/p/CyzQK3PvtbI/?utm_source=ig_embed&utm_campaign=loading","data-instgrm-version":"12"},[_("div",{class:"ig-div-1"},[_("a",{id:"main_link",href:"https://www.instagram.com/p/CyzQK3PvtbI/?utm_source=ig_embed&utm_campaign=loading",class:"ig-a-1",target:"_blank"},[_("div",{class:"ig-div-2"},[_("div",{class:"ig-div-3"}),_("div",{class:"ig-div-4"},[_("div",{class:"ig-div-5"}),_("div",{class:"ig-div-6"})])]),_("div",{class:"ig-div-7"}),_("div",{class:"ig-div-8"},[_("svg",{width:"50px",height:"50px",viewBox:"0 0 60 60",version:"1.1",xmlns:"https://www.w3.org/2000/svg","xmlns:xlink":"https://www.w3.org/1999/xlink"},[_("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[_("g",{transform:"translate(-511.000000, -20.000000)",fill:"#000000"},[_("g",null,[_("path",{d:"M556.869,30.41 C554.814,30.41 553.148,32.076 553.148,34.131 C553.148,36.186 554.814,37.852 556.869,37.852 C558.924,37.852 560.59,36.186 560.59,34.131 C560.59,32.076 558.924,30.41 556.869,30.41 M541,60.657 C535.114,60.657 530.342,55.887 530.342,50 C530.342,44.114 535.114,39.342 541,39.342 C546.887,39.342 551.658,44.114 551.658,50 C551.658,55.887 546.887,60.657 541,60.657 M541,33.886 C532.1,33.886 524.886,41.1 524.886,50 C524.886,58.899 532.1,66.113 541,66.113 C549.9,66.113 557.115,58.899 557.115,50 C557.115,41.1 549.9,33.886 541,33.886 M565.378,62.101 C565.244,65.022 564.756,66.606 564.346,67.663 C563.803,69.06 563.154,70.057 562.106,71.106 C561.058,72.155 560.06,72.803 558.662,73.347 C557.607,73.757 556.021,74.244 553.102,74.378 C549.944,74.521 548.997,74.552 541,74.552 C533.003,74.552 532.056,74.521 528.898,74.378 C525.979,74.244 524.393,73.757 523.338,73.347 C521.94,72.803 520.942,72.155 519.894,71.106 C518.846,70.057 518.197,69.06 517.654,67.663 C517.244,66.606 516.755,65.022 516.623,62.101 C516.479,58.943 516.448,57.996 516.448,50 C516.448,42.003 516.479,41.056 516.623,37.899 C516.755,34.978 517.244,33.391 517.654,32.338 C518.197,30.938 518.846,29.942 519.894,28.894 C520.942,27.846 521.94,27.196 523.338,26.654 C524.393,26.244 525.979,25.756 528.898,25.623 C532.057,25.479 533.004,25.448 541,25.448 C548.997,25.448 549.943,25.479 553.102,25.623 C556.021,25.756 557.607,26.244 558.662,26.654 C560.06,27.196 561.058,27.846 562.106,28.894 C563.154,29.942 563.803,30.938 564.346,32.338 C564.756,33.391 565.244,34.978 565.378,37.899 C565.522,41.056 565.552,42.003 565.552,50 C565.552,57.996 565.522,58.943 565.378,62.101 M570.82,37.631 C570.674,34.438 570.167,32.258 569.425,30.349 C568.659,28.377 567.633,26.702 565.965,25.035 C564.297,23.368 562.623,22.342 560.652,21.575 C558.743,20.834 556.562,20.326 553.369,20.18 C550.169,20.033 549.148,20 541,20 C532.853,20 531.831,20.033 528.631,20.18 C525.438,20.326 523.257,20.834 521.349,21.575 C519.376,22.342 517.703,23.368 516.035,25.035 C514.368,26.702 513.342,28.377 512.574,30.349 C511.834,32.258 511.326,34.438 511.181,37.631 C511.035,40.831 511,41.851 511,50 C511,58.147 511.035,59.17 511.181,62.369 C511.326,65.562 511.834,67.743 512.574,69.651 C513.342,71.625 514.368,73.296 516.035,74.965 C517.703,76.634 519.376,77.658 521.349,78.425 C523.257,79.167 525.438,79.673 528.631,79.82 C531.831,79.965 532.853,80.001 541,80.001 C549.148,80.001 550.169,79.965 553.369,79.82 C556.562,79.673 558.743,79.167 560.652,78.425 C562.623,77.658 564.297,76.634 565.965,74.965 C567.633,73.296 568.659,71.625 569.425,69.651 C570.167,67.743 570.674,65.562 570.82,62.369 C570.966,59.17 571,58.147 571,50 C571,41.851 570.966,40.831 570.82,37.631"})])])])])]),_("div",{class:"ig-div-9"},[_("div",{class:"ig-div-10"}," View this post on Instagram")]),_("div",{class:"ig-div-11"}),_("div",{class:"ig-div-12"},[_("div",null,[_("div",{class:"ig-div-13"}),_("div",{class:"ig-div-14"}),_("div",{class:"ig-div-15"})]),_("div",{class:"ig-div-16"},[_("div",{class:"ig-div-17"}),_("div",{class:"ig-div-18"})]),_("div",{class:"ig-div-19"},[_("div",{class:"ig-div-20"}),_("div",{class:"ig-div-21"}),_("div",{class:"ig-div-22"})])]),_("div",{class:"ig-div-23"},[_("div",{class:"ig-div-24"}),_("div",{class:"ig-div-25"})])]),_("p",{class:"ig-p-1"},[_("a",{href:"https://www.instagram.com/p/CyzQK3PvtbI/?utm_source=ig_embed&utm_campaign=loading",class:"ig-a-2",target:"_blank"},"Shared post"),Lh(" on "),_("time",{class:"ig-time-1"},"Time")])])])],-1);function tT(t,e,n,s,r,i){return ct(),lt(ft,null,[Jb,Zb,eT],64)}var nT=nn(Xb,[["render",tT]]);const sT={class:"z-9 sticky bottom-2 flex justify-center space-x-4"},rT={xmlns:"http://www.w3.org/2000/svg",class:"fill-neutral-800",height:"24",width:"24"},iT={d:"M8.5 18.1V5.9L18.075 12ZM10 12ZM10 15.35 15.275 12 10 8.65Z"},oT={d:"M8 8V16ZM6.5 17.5V6.5H17.5V17.5ZM8 16H16V8H8Z"},aT=_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-neutral-800",height:"24",width:"24"},[_("path",{d:"M14.7 18Q13.725 18 13.05 17.325Q12.375 16.65 12.375 15.7Q12.375 14.725 13.05 14.05Q13.725 13.375 14.7 13.375Q15.65 13.375 16.325 14.05Q17 14.725 17 15.7Q17 16.65 16.325 17.325Q15.65 18 14.7 18ZM5.3 21.5Q4.55 21.5 4.025 20.975Q3.5 20.45 3.5 19.7V6.3Q3.5 5.55 4.025 5.025Q4.55 4.5 5.3 4.5H6.7V2.375H8.225V4.5H15.8V2.375H17.3V4.5H18.7Q19.45 4.5 19.975 5.025Q20.5 5.55 20.5 6.3V19.7Q20.5 20.45 19.975 20.975Q19.45 21.5 18.7 21.5ZM5.3 20H18.7Q18.8 20 18.9 19.9Q19 19.8 19 19.7V10.3H5V19.7Q5 19.8 5.1 19.9Q5.2 20 5.3 20ZM5 8.8H19V6.3Q19 6.2 18.9 6.1Q18.8 6 18.7 6H5.3Q5.2 6 5.1 6.1Q5 6.2 5 6.3ZM5 8.8V6.3Q5 6.175 5 6.088Q5 6 5 6Q5 6 5 6.088Q5 6.175 5 6.3V8.8Z"})],-1),cT=[aT],lT=_("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-neutral-800",height:"24",width:"24"},[_("path",{d:"M15 20.45 9 18.35 4.7 20.025Q4.25 20.2 3.875 19.925Q3.5 19.65 3.5 19.2V6.075Q3.5 5.775 3.663 5.537Q3.825 5.3 4.1 5.2L9 3.55L15 5.65L19.3 3.975Q19.75 3.8 20.125 4.05Q20.5 4.3 20.5 4.775V17.95Q20.5 18.275 20.325 18.5Q20.15 18.725 19.85 18.825ZM14.25 18.625V6.925L9.75 5.35V17.05ZM15.75 18.625 19 17.55V5.7L15.75 6.925ZM5 18.3 8.25 17.05V5.35L5 6.45ZM15.75 6.925V18.625ZM8.25 5.35V17.05Z"})],-1),uT=[lT],hT={setup(t){let e,n=Dn({isPaused:null});const s=()=>{window.open("https://www.google.com/maps/dir/?api=1&destination=Roemah+Polonia,+Jl.+Cipinang+Cempedak&travelmode=driving","_blank")},r=()=>{window.open("https://www.google.com/calendar/render?action=TEMPLATE&text=Pernikahan%20Nanda%20%26%20Wahyu&ctz=Asia/Jakarta&dates=20231210T010000Z/20231210T060000Z&details=Pernikahan%20Nanda%20%26%20Wahyu&location=Roemah+Polonia,+Jl.+Cipinang+Cempedak","_blank")},i=()=>{n.isPaused?(n.isPaused=!1,e.play()):(n.isPaused=!0,e.pause())};return _i(()=>{e=document.getElementById("myAudio"),n.isPaused=e.paused}),(o,a)=>(ct(),lt("div",sT,[_("button",{type:"button",onClick:i,class:"flex h-12 w-12 items-center justify-center rounded-full border border-gray-300 bg-white hover:border-gray-400 focus:outline-none"},[(ct(),lt("svg",rT,[xs(_("path",iT,null,512),[[Vo,rt(n).isPaused]]),xs(_("path",oT,null,512),[[Vo,!rt(n).isPaused]])]))]),_("button",{type:"button",onClick:r,class:"flex h-12 w-12 items-center justify-center rounded-full border border-gray-300 bg-white hover:border-gray-400 focus:outline-none"},cT),_("button",{type:"button",onClick:s,class:"flex h-12 w-12 items-center justify-center rounded-full border border-gray-300 bg-white hover:border-gray-400 focus:outline-none"},uT)]))}},fT={class:"container mx-auto mt-1 mb-2 rounded border bg-white bg-opacity-75 p-4 font-serif2 text-zinc-800 shadow-lg"},dT=_("br",null,null,-1),pT=_("br",null,null,-1),gT=_("hr",null,null,-1),mT=_("hr",null,null,-1),yT=_("hr",null,null,-1),vT=_("hr",null,null,-1),wT=_("br",null,null,-1),ET=_("br",null,null,-1),_T=_("hr",null,null,-1),fp={setup(t){return(e,n)=>(ct(),lt(ft,null,[_("div",fT,[Oe(Gm),dT,Oe(pb),pT,Oe(Eb),gT,Oe(Ib),mT,Oe(Yb),yT,Oe(Mb),vT,Oe(Fb),Oe(Kb),wT,Oe(nT),ET,_T,Oe(r_)]),Oe(hT)],64))}};const bT=[{path:"/",component:fp}],TT=ab({history:T_(),routes:bT});Um(fp).use(TT).mount("#app");
